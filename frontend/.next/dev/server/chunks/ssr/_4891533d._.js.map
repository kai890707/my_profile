{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///Users/kai/KAA/my_profile/frontend/lib/utils/format.ts"],"sourcesContent":["/**\n * 格式化日期\n */\nexport function formatDate(date: string | Date | null | undefined): string {\n  if (!date) {\n    return '-';\n  }\n\n  const dateObj = new Date(date);\n\n  // 檢查日期是否有效\n  if (isNaN(dateObj.getTime())) {\n    return '-';\n  }\n\n  return new Intl.DateTimeFormat('zh-TW', {\n    year: 'numeric',\n    month: '2-digit',\n    day: '2-digit',\n  }).format(dateObj);\n}\n\n/**\n * 格式化相對時間\n */\nexport function formatRelativeTime(date: string | Date | null | undefined): string {\n  if (!date) {\n    return '-';\n  }\n\n  const now = new Date();\n  const target = new Date(date);\n\n  // 檢查日期是否有效\n  if (isNaN(target.getTime())) {\n    return '-';\n  }\n\n  const diffInSeconds = Math.floor((now.getTime() - target.getTime()) / 1000);\n\n  if (diffInSeconds < 60) return '剛剛';\n  if (diffInSeconds < 3600) return `${Math.floor(diffInSeconds / 60)} 分鐘前`;\n  if (diffInSeconds < 86400) return `${Math.floor(diffInSeconds / 3600)} 小時前`;\n  if (diffInSeconds < 604800) return `${Math.floor(diffInSeconds / 86400)} 天前`;\n\n  return formatDate(date);\n}\n"],"names":[],"mappings":"AAAA;;CAEC;;;;;;AACM,SAAS,WAAW,IAAsC;IAC/D,IAAI,CAAC,MAAM;QACT,OAAO;IACT;IAEA,MAAM,UAAU,IAAI,KAAK;IAEzB,WAAW;IACX,IAAI,MAAM,QAAQ,OAAO,KAAK;QAC5B,OAAO;IACT;IAEA,OAAO,IAAI,KAAK,cAAc,CAAC,SAAS;QACtC,MAAM;QACN,OAAO;QACP,KAAK;IACP,GAAG,MAAM,CAAC;AACZ;AAKO,SAAS,mBAAmB,IAAsC;IACvE,IAAI,CAAC,MAAM;QACT,OAAO;IACT;IAEA,MAAM,MAAM,IAAI;IAChB,MAAM,SAAS,IAAI,KAAK;IAExB,WAAW;IACX,IAAI,MAAM,OAAO,OAAO,KAAK;QAC3B,OAAO;IACT;IAEA,MAAM,gBAAgB,KAAK,KAAK,CAAC,CAAC,IAAI,OAAO,KAAK,OAAO,OAAO,EAAE,IAAI;IAEtE,IAAI,gBAAgB,IAAI,OAAO;IAC/B,IAAI,gBAAgB,MAAM,OAAO,GAAG,KAAK,KAAK,CAAC,gBAAgB,IAAI,IAAI,CAAC;IACxE,IAAI,gBAAgB,OAAO,OAAO,GAAG,KAAK,KAAK,CAAC,gBAAgB,MAAM,IAAI,CAAC;IAC3E,IAAI,gBAAgB,QAAQ,OAAO,GAAG,KAAK,KAAK,CAAC,gBAAgB,OAAO,GAAG,CAAC;IAE5E,OAAO,WAAW;AACpB"}},
    {"offset": {"line": 48, "column": 0}, "map": {"version":3,"sources":["file:///Users/kai/KAA/my_profile/frontend/lib/utils/index.ts"],"sourcesContent":["export * from './cn';\nexport * from './format';\n"],"names":[],"mappings":";AAAA;AACA"}},
    {"offset": {"line": 57, "column": 0}, "map": {"version":3,"sources":["file:///Users/kai/KAA/my_profile/frontend/components/ui/card.tsx"],"sourcesContent":["import { cn } from '@/lib/utils';\nimport { ReactNode } from 'react';\n\ninterface CardProps {\n  children: ReactNode;\n  className?: string;\n  hover?: boolean;\n  shadow?: 'none' | 'sm' | 'md' | 'lg' | 'xl';\n  padding?: 'none' | 'sm' | 'md' | 'lg';\n  onClick?: () => void;\n}\n\nexport function Card({\n  children,\n  className,\n  hover = false,\n  shadow = 'md',\n  padding = 'md',\n  onClick,\n}: CardProps) {\n  const shadows = {\n    none: '',\n    sm: 'shadow-sm',\n    md: 'shadow-md',\n    lg: 'shadow-lg',\n    xl: 'shadow-xl',\n  };\n\n  const paddings = {\n    none: 'p-0',\n    sm: 'p-4',\n    md: 'p-6',\n    lg: 'p-8',\n  };\n\n  return (\n    <div\n      className={cn(\n        'bg-white rounded-2xl border border-slate-100',\n        shadows[shadow],\n        paddings[padding],\n        hover && 'hover:shadow-lg hover:-translate-y-1 cursor-pointer',\n        'transition-all duration-200',\n        className\n      )}\n      onClick={onClick}\n    >\n      {children}\n    </div>\n  );\n}\n\ninterface CardHeaderProps {\n  children: ReactNode;\n  className?: string;\n}\n\nexport function CardHeader({ children, className }: CardHeaderProps) {\n  return (\n    <div className={cn('mb-4', className)}>\n      {children}\n    </div>\n  );\n}\n\ninterface CardTitleProps {\n  children: ReactNode;\n  className?: string;\n}\n\nexport function CardTitle({ children, className }: CardTitleProps) {\n  return (\n    <h3 className={cn('text-2xl font-bold text-slate-900', className)}>\n      {children}\n    </h3>\n  );\n}\n\ninterface CardDescriptionProps {\n  children: ReactNode;\n  className?: string;\n}\n\nexport function CardDescription({ children, className }: CardDescriptionProps) {\n  return (\n    <p className={cn('text-sm text-slate-600 mt-1', className)}>\n      {children}\n    </p>\n  );\n}\n\ninterface CardContentProps {\n  children: ReactNode;\n  className?: string;\n}\n\nexport function CardContent({ children, className }: CardContentProps) {\n  return (\n    <div className={cn(className)}>\n      {children}\n    </div>\n  );\n}\n\ninterface CardFooterProps {\n  children: ReactNode;\n  className?: string;\n}\n\nexport function CardFooter({ children, className }: CardFooterProps) {\n  return (\n    <div className={cn('mt-6 pt-4 border-t border-slate-100', className)}>\n      {children}\n    </div>\n  );\n}\n"],"names":[],"mappings":";;;;;;;;;;;;;;;AAAA;AAAA;;;AAYO,SAAS,KAAK,EACnB,QAAQ,EACR,SAAS,EACT,QAAQ,KAAK,EACb,SAAS,IAAI,EACb,UAAU,IAAI,EACd,OAAO,EACG;IACV,MAAM,UAAU;QACd,MAAM;QACN,IAAI;QACJ,IAAI;QACJ,IAAI;QACJ,IAAI;IACN;IAEA,MAAM,WAAW;QACf,MAAM;QACN,IAAI;QACJ,IAAI;QACJ,IAAI;IACN;IAEA,qBACE,8OAAC;QACC,WAAW,IAAA,wHAAE,EACX,gDACA,OAAO,CAAC,OAAO,EACf,QAAQ,CAAC,QAAQ,EACjB,SAAS,uDACT,+BACA;QAEF,SAAS;kBAER;;;;;;AAGP;AAOO,SAAS,WAAW,EAAE,QAAQ,EAAE,SAAS,EAAmB;IACjE,qBACE,8OAAC;QAAI,WAAW,IAAA,wHAAE,EAAC,QAAQ;kBACxB;;;;;;AAGP;AAOO,SAAS,UAAU,EAAE,QAAQ,EAAE,SAAS,EAAkB;IAC/D,qBACE,8OAAC;QAAG,WAAW,IAAA,wHAAE,EAAC,qCAAqC;kBACpD;;;;;;AAGP;AAOO,SAAS,gBAAgB,EAAE,QAAQ,EAAE,SAAS,EAAwB;IAC3E,qBACE,8OAAC;QAAE,WAAW,IAAA,wHAAE,EAAC,+BAA+B;kBAC7C;;;;;;AAGP;AAOO,SAAS,YAAY,EAAE,QAAQ,EAAE,SAAS,EAAoB;IACnE,qBACE,8OAAC;QAAI,WAAW,IAAA,wHAAE,EAAC;kBAChB;;;;;;AAGP;AAOO,SAAS,WAAW,EAAE,QAAQ,EAAE,SAAS,EAAmB;IACjE,qBACE,8OAAC;QAAI,WAAW,IAAA,wHAAE,EAAC,uCAAuC;kBACvD;;;;;;AAGP"}},
    {"offset": {"line": 154, "column": 0}, "map": {"version":3,"sources":["file:///Users/kai/KAA/my_profile/frontend/components/ui/input.tsx"],"sourcesContent":["import { cn } from '@/lib/utils';\nimport { forwardRef } from 'react';\n\ninterface InputProps extends Omit<React.InputHTMLAttributes<HTMLInputElement>, 'size'> {\n  label?: string;\n  error?: string;\n  helperText?: string;\n  icon?: React.ReactNode;\n  size?: 'default' | 'lg';\n}\n\nexport const Input = forwardRef<HTMLInputElement, InputProps>(\n  ({ className, label, error, helperText, icon, size = 'default', ...props }, ref) => {\n    const sizeClasses = {\n      default: 'h-11 text-base',\n      lg: 'h-14 text-lg',\n    };\n\n    return (\n      <div className=\"space-y-2\">\n        {label && (\n          <label className=\"text-sm font-semibold text-slate-700\">\n            {label}\n            {props.required && <span className=\"text-red-500 ml-1\">*</span>}\n          </label>\n        )}\n        <div className=\"relative\">\n          {icon && (\n            <div className=\"absolute left-4 top-1/2 -translate-y-1/2 text-slate-400\">\n              {icon}\n            </div>\n          )}\n          <input\n            ref={ref}\n            className={cn(\n              'flex w-full rounded-xl border-2 border-slate-200 bg-white px-4 py-2',\n              icon && 'pl-11',\n              sizeClasses[size],\n              'placeholder:text-slate-400',\n              'focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-primary-500',\n              'hover:border-slate-300',\n              'transition-all duration-200',\n              'disabled:cursor-not-allowed disabled:opacity-50 disabled:bg-slate-50',\n              error && 'border-red-400 focus:ring-red-500 focus:border-red-500',\n              className\n            )}\n            {...props}\n          />\n        </div>\n        {error && (\n          <p className=\"text-sm text-red-600 flex items-center\">\n            <svg className=\"h-4 w-4 mr-1\" fill=\"currentColor\" viewBox=\"0 0 20 20\">\n              <path fillRule=\"evenodd\" d=\"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7 4a1 1 0 11-2 0 1 1 0 012 0zm-1-9a1 1 0 00-1 1v4a1 1 0 102 0V6a1 1 0 00-1-1z\" clipRule=\"evenodd\" />\n            </svg>\n            {error}\n          </p>\n        )}\n        {helperText && !error && <p className=\"text-sm text-slate-500\">{helperText}</p>}\n      </div>\n    );\n  }\n);\n\nInput.displayName = 'Input';\n"],"names":[],"mappings":";;;;;AAAA;AAAA;AACA;;;;AAUO,MAAM,sBAAQ,IAAA,mNAAU,EAC7B,CAAC,EAAE,SAAS,EAAE,KAAK,EAAE,KAAK,EAAE,UAAU,EAAE,IAAI,EAAE,OAAO,SAAS,EAAE,GAAG,OAAO,EAAE;IAC1E,MAAM,cAAc;QAClB,SAAS;QACT,IAAI;IACN;IAEA,qBACE,8OAAC;QAAI,WAAU;;YACZ,uBACC,8OAAC;gBAAM,WAAU;;oBACd;oBACA,MAAM,QAAQ,kBAAI,8OAAC;wBAAK,WAAU;kCAAoB;;;;;;;;;;;;0BAG3D,8OAAC;gBAAI,WAAU;;oBACZ,sBACC,8OAAC;wBAAI,WAAU;kCACZ;;;;;;kCAGL,8OAAC;wBACC,KAAK;wBACL,WAAW,IAAA,wHAAE,EACX,uEACA,QAAQ,SACR,WAAW,CAAC,KAAK,EACjB,8BACA,mFACA,0BACA,+BACA,wEACA,SAAS,0DACT;wBAED,GAAG,KAAK;;;;;;;;;;;;YAGZ,uBACC,8OAAC;gBAAE,WAAU;;kCACX,8OAAC;wBAAI,WAAU;wBAAe,MAAK;wBAAe,SAAQ;kCACxD,cAAA,8OAAC;4BAAK,UAAS;4BAAU,GAAE;4BAAoH,UAAS;;;;;;;;;;;oBAEzJ;;;;;;;YAGJ,cAAc,CAAC,uBAAS,8OAAC;gBAAE,WAAU;0BAA0B;;;;;;;;;;;;AAGtE;AAGF,MAAM,WAAW,GAAG"}},
    {"offset": {"line": 265, "column": 0}, "map": {"version":3,"sources":["file:///Users/kai/KAA/my_profile/frontend/components/ui/button.tsx"],"sourcesContent":["import { cn } from '@/lib/utils';\nimport { Loader2 } from 'lucide-react';\nimport { Slot } from '@radix-ui/react-slot';\n\ninterface ButtonProps extends React.ButtonHTMLAttributes<HTMLButtonElement> {\n  variant?: 'default' | 'secondary' | 'outline' | 'ghost' | 'link';\n  size?: 'default' | 'sm' | 'lg' | 'icon';\n  isLoading?: boolean;\n  asChild?: boolean;\n}\n\nexport function Button({\n  className,\n  variant = 'default',\n  size = 'default',\n  isLoading = false,\n  disabled,\n  children,\n  asChild = false,\n  ...props\n}: ButtonProps) {\n  const sizes = {\n    default: 'h-10 px-4 py-2 text-base',\n    sm: 'h-8 px-3 py-1 text-sm rounded-lg',\n    lg: 'h-14 px-8 py-4 text-lg rounded-xl',\n    icon: 'h-10 w-10 p-2',\n  };\n\n  // 使用 inline styles 確保漸層和陰影效果\n  const getButtonStyle = () => {\n    if (disabled || isLoading) {\n      return {};\n    }\n\n    switch (variant) {\n      case 'default':\n        return {\n          background: 'linear-gradient(135deg, #0ea5e9 0%, #0284c7 100%)',\n          boxShadow: '0 10px 25px -5px rgba(14, 165, 233, 0.4), 0 8px 10px -6px rgba(14, 165, 233, 0.4)',\n        };\n      case 'secondary':\n        return {\n          background: 'linear-gradient(135deg, #14b8a6 0%, #0d9488 100%)',\n          boxShadow: '0 10px 25px -5px rgba(20, 184, 166, 0.4)',\n        };\n      default:\n        return {};\n    }\n  };\n\n  const variants = {\n    default: 'text-white',\n    secondary: 'text-white',\n    outline: 'border-2 border-blue-500 text-blue-600 hover:bg-blue-50',\n    ghost: 'hover:bg-blue-50 text-blue-600',\n    link: 'text-blue-600 underline-offset-4 hover:underline',\n  };\n\n  const buttonClassName = cn(\n    'inline-flex items-center justify-center rounded-xl font-bold transition-all duration-300 ease-out',\n    'focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-blue-500 focus-visible:ring-offset-2',\n    'disabled:opacity-50 disabled:cursor-not-allowed',\n    'hover:brightness-110 hover:-translate-y-0.5',\n    'active:translate-y-0',\n    variants[variant],\n    sizes[size],\n    className\n  );\n\n  // When asChild is true, use Slot and only render children (no loading support)\n  if (asChild) {\n    const Component = Slot;\n    return (\n      <Component\n        className={buttonClassName}\n        style={getButtonStyle()}\n        {...props}\n      >\n        {children}\n      </Component>\n    );\n  }\n\n  // Regular button with loading support\n  return (\n    <button\n      className={buttonClassName}\n      style={getButtonStyle()}\n      disabled={disabled || isLoading}\n      {...props}\n    >\n      {isLoading && <Loader2 className=\"mr-2 h-5 w-5 animate-spin\" />}\n      {children}\n    </button>\n  );\n}\n"],"names":[],"mappings":";;;;;AAAA;AAAA;AACA;AACA;;;;;AASO,SAAS,OAAO,EACrB,SAAS,EACT,UAAU,SAAS,EACnB,OAAO,SAAS,EAChB,YAAY,KAAK,EACjB,QAAQ,EACR,QAAQ,EACR,UAAU,KAAK,EACf,GAAG,OACS;IACZ,MAAM,QAAQ;QACZ,SAAS;QACT,IAAI;QACJ,IAAI;QACJ,MAAM;IACR;IAEA,6BAA6B;IAC7B,MAAM,iBAAiB;QACrB,IAAI,YAAY,WAAW;YACzB,OAAO,CAAC;QACV;QAEA,OAAQ;YACN,KAAK;gBACH,OAAO;oBACL,YAAY;oBACZ,WAAW;gBACb;YACF,KAAK;gBACH,OAAO;oBACL,YAAY;oBACZ,WAAW;gBACb;YACF;gBACE,OAAO,CAAC;QACZ;IACF;IAEA,MAAM,WAAW;QACf,SAAS;QACT,WAAW;QACX,SAAS;QACT,OAAO;QACP,MAAM;IACR;IAEA,MAAM,kBAAkB,IAAA,wHAAE,EACxB,qGACA,2GACA,mDACA,+CACA,wBACA,QAAQ,CAAC,QAAQ,EACjB,KAAK,CAAC,KAAK,EACX;IAGF,+EAA+E;IAC/E,IAAI,SAAS;QACX,MAAM,YAAY,wKAAI;QACtB,qBACE,8OAAC;YACC,WAAW;YACX,OAAO;YACN,GAAG,KAAK;sBAER;;;;;;IAGP;IAEA,sCAAsC;IACtC,qBACE,8OAAC;QACC,WAAW;QACX,OAAO;QACP,UAAU,YAAY;QACrB,GAAG,KAAK;;YAER,2BAAa,8OAAC,4NAAO;gBAAC,WAAU;;;;;;YAChC;;;;;;;AAGP"}},
    {"offset": {"line": 353, "column": 0}, "map": {"version":3,"sources":["file:///Users/kai/KAA/my_profile/frontend/components/ui/badge.tsx"],"sourcesContent":["import { cn } from '@/lib/utils';\nimport { ReactNode } from 'react';\n\ninterface BadgeProps {\n  children: ReactNode;\n  variant?: 'default' | 'primary' | 'secondary' | 'success' | 'warning' | 'error' | 'info';\n  size?: 'sm' | 'md' | 'lg';\n  className?: string;\n  dot?: boolean;\n}\n\nexport function Badge({\n  children,\n  variant = 'default',\n  size = 'md',\n  className,\n  dot = false,\n}: BadgeProps) {\n  const variants = {\n    default: 'bg-slate-100 text-slate-700 border-slate-200',\n    primary: 'bg-primary-100 text-primary-700 border-primary-200',\n    secondary: 'bg-secondary-100 text-secondary-700 border-secondary-200',\n    success: 'bg-success-100 text-success-700 border-success-200',\n    warning: 'bg-warning-100 text-warning-700 border-warning-200',\n    error: 'bg-error-100 text-error-700 border-error-200',\n    info: 'bg-info-100 text-info-700 border-info-200',\n  };\n\n  const sizes = {\n    sm: 'text-xs px-2 py-0.5',\n    md: 'text-sm px-3 py-1',\n    lg: 'text-base px-4 py-1.5',\n  };\n\n  const dotColors = {\n    default: 'bg-slate-500',\n    primary: 'bg-primary-500',\n    secondary: 'bg-secondary-500',\n    success: 'bg-success-500',\n    warning: 'bg-warning-500',\n    error: 'bg-error-500',\n    info: 'bg-info-500',\n  };\n\n  return (\n    <span\n      className={cn(\n        'inline-flex items-center font-semibold rounded-full border',\n        'transition-all duration-200',\n        variants[variant],\n        sizes[size],\n        className\n      )}\n    >\n      {dot && (\n        <span className={cn(\n          'w-2 h-2 rounded-full mr-1.5',\n          dotColors[variant]\n        )} />\n      )}\n      {children}\n    </span>\n  );\n}\n"],"names":[],"mappings":";;;;;AAAA;AAAA;;;AAWO,SAAS,MAAM,EACpB,QAAQ,EACR,UAAU,SAAS,EACnB,OAAO,IAAI,EACX,SAAS,EACT,MAAM,KAAK,EACA;IACX,MAAM,WAAW;QACf,SAAS;QACT,SAAS;QACT,WAAW;QACX,SAAS;QACT,SAAS;QACT,OAAO;QACP,MAAM;IACR;IAEA,MAAM,QAAQ;QACZ,IAAI;QACJ,IAAI;QACJ,IAAI;IACN;IAEA,MAAM,YAAY;QAChB,SAAS;QACT,SAAS;QACT,WAAW;QACX,SAAS;QACT,SAAS;QACT,OAAO;QACP,MAAM;IACR;IAEA,qBACE,8OAAC;QACC,WAAW,IAAA,wHAAE,EACX,8DACA,+BACA,QAAQ,CAAC,QAAQ,EACjB,KAAK,CAAC,KAAK,EACX;;YAGD,qBACC,8OAAC;gBAAK,WAAW,IAAA,wHAAE,EACjB,+BACA,SAAS,CAAC,QAAQ;;;;;;YAGrB;;;;;;;AAGP"}},
    {"offset": {"line": 408, "column": 0}, "map": {"version":3,"sources":["file:///Users/kai/KAA/my_profile/frontend/components/ui/avatar.tsx"],"sourcesContent":["import React from 'react';\nimport { cn } from '@/lib/utils';\nimport { User } from 'lucide-react';\nimport Image from 'next/image';\n\ninterface AvatarProps {\n  src?: string | null;\n  alt?: string;\n  size?: 'xs' | 'sm' | 'md' | 'lg' | 'xl' | '2xl';\n  className?: string;\n  fallback?: string;\n  status?: 'online' | 'offline' | 'away' | 'busy';\n}\n\nexport function Avatar({\n  src,\n  alt = 'Avatar',\n  size = 'md',\n  className,\n  fallback,\n  status,\n}: AvatarProps) {\n  const sizes = {\n    xs: 'h-8 w-8',\n    sm: 'h-10 w-10',\n    md: 'h-12 w-12',\n    lg: 'h-16 w-16',\n    xl: 'h-20 w-20',\n    '2xl': 'h-24 w-24',\n  };\n\n  const iconSizes = {\n    xs: 'h-4 w-4',\n    sm: 'h-5 w-5',\n    md: 'h-6 w-6',\n    lg: 'h-8 w-8',\n    xl: 'h-10 w-10',\n    '2xl': 'h-12 w-12',\n  };\n\n  const statusColors = {\n    online: 'bg-success-500',\n    offline: 'bg-slate-400',\n    away: 'bg-warning-500',\n    busy: 'bg-error-500',\n  };\n\n  const statusSizes = {\n    xs: 'h-2 w-2',\n    sm: 'h-2.5 w-2.5',\n    md: 'h-3 w-3',\n    lg: 'h-3.5 w-3.5',\n    xl: 'h-4 w-4',\n    '2xl': 'h-5 w-5',\n  };\n\n  return (\n    <div className={cn('relative inline-block', className)}>\n      <div\n        className={cn(\n          'rounded-full overflow-hidden bg-slate-100 border-2 border-white shadow-sm',\n          sizes[size]\n        )}\n      >\n        {src ? (\n          <Image\n            src={src}\n            alt={alt}\n            width={96}\n            height={96}\n            className=\"object-cover w-full h-full\"\n          />\n        ) : fallback ? (\n          <div className=\"flex items-center justify-center h-full w-full bg-gradient-to-br from-primary-400 to-secondary-400 text-white font-bold text-sm\">\n            {fallback}\n          </div>\n        ) : (\n          <div className=\"flex items-center justify-center h-full w-full text-slate-400\">\n            <User className={iconSizes[size]} />\n          </div>\n        )}\n      </div>\n\n      {status && (\n        <span\n          className={cn(\n            'absolute bottom-0 right-0 rounded-full border-2 border-white',\n            statusColors[status],\n            statusSizes[size]\n          )}\n        />\n      )}\n    </div>\n  );\n}\n\ninterface AvatarGroupProps {\n  children: React.ReactNode;\n  max?: number;\n  className?: string;\n}\n\nexport function AvatarGroup({ children, max = 5, className }: AvatarGroupProps) {\n  const childrenArray = React.Children.toArray(children);\n  const displayedChildren = max ? childrenArray.slice(0, max) : childrenArray;\n  const remainingCount = max && childrenArray.length > max ? childrenArray.length - max : 0;\n\n  return (\n    <div className={cn('flex -space-x-2', className)}>\n      {displayedChildren}\n      {remainingCount > 0 && (\n        <div className=\"flex items-center justify-center h-12 w-12 rounded-full bg-slate-200 border-2 border-white text-slate-700 text-sm font-semibold z-10\">\n          +{remainingCount}\n        </div>\n      )}\n    </div>\n  );\n}\n"],"names":[],"mappings":";;;;;;;AAAA;AACA;AAAA;AACA;AACA;;;;;;AAWO,SAAS,OAAO,EACrB,GAAG,EACH,MAAM,QAAQ,EACd,OAAO,IAAI,EACX,SAAS,EACT,QAAQ,EACR,MAAM,EACM;IACZ,MAAM,QAAQ;QACZ,IAAI;QACJ,IAAI;QACJ,IAAI;QACJ,IAAI;QACJ,IAAI;QACJ,OAAO;IACT;IAEA,MAAM,YAAY;QAChB,IAAI;QACJ,IAAI;QACJ,IAAI;QACJ,IAAI;QACJ,IAAI;QACJ,OAAO;IACT;IAEA,MAAM,eAAe;QACnB,QAAQ;QACR,SAAS;QACT,MAAM;QACN,MAAM;IACR;IAEA,MAAM,cAAc;QAClB,IAAI;QACJ,IAAI;QACJ,IAAI;QACJ,IAAI;QACJ,IAAI;QACJ,OAAO;IACT;IAEA,qBACE,8OAAC;QAAI,WAAW,IAAA,wHAAE,EAAC,yBAAyB;;0BAC1C,8OAAC;gBACC,WAAW,IAAA,wHAAE,EACX,6EACA,KAAK,CAAC,KAAK;0BAGZ,oBACC,8OAAC,wIAAK;oBACJ,KAAK;oBACL,KAAK;oBACL,OAAO;oBACP,QAAQ;oBACR,WAAU;;;;;2BAEV,yBACF,8OAAC;oBAAI,WAAU;8BACZ;;;;;yCAGH,8OAAC;oBAAI,WAAU;8BACb,cAAA,8OAAC,0MAAI;wBAAC,WAAW,SAAS,CAAC,KAAK;;;;;;;;;;;;;;;;YAKrC,wBACC,8OAAC;gBACC,WAAW,IAAA,wHAAE,EACX,gEACA,YAAY,CAAC,OAAO,EACpB,WAAW,CAAC,KAAK;;;;;;;;;;;;AAM7B;AAQO,SAAS,YAAY,EAAE,QAAQ,EAAE,MAAM,CAAC,EAAE,SAAS,EAAoB;IAC5E,MAAM,gBAAgB,gNAAK,CAAC,QAAQ,CAAC,OAAO,CAAC;IAC7C,MAAM,oBAAoB,MAAM,cAAc,KAAK,CAAC,GAAG,OAAO;IAC9D,MAAM,iBAAiB,OAAO,cAAc,MAAM,GAAG,MAAM,cAAc,MAAM,GAAG,MAAM;IAExF,qBACE,8OAAC;QAAI,WAAW,IAAA,wHAAE,EAAC,mBAAmB;;YACnC;YACA,iBAAiB,mBAChB,8OAAC;gBAAI,WAAU;;oBAAuI;oBAClJ;;;;;;;;;;;;;AAKZ"}},
    {"offset": {"line": 541, "column": 0}, "map": {"version":3,"sources":["file:///Users/kai/KAA/my_profile/frontend/components/ui/skeleton.tsx"],"sourcesContent":["import { cn } from '@/lib/utils';\n\ninterface SkeletonProps {\n  className?: string;\n  variant?: 'text' | 'circular' | 'rectangular';\n  animation?: 'pulse' | 'wave' | 'none';\n}\n\nexport function Skeleton({\n  className,\n  variant = 'rectangular',\n  animation = 'pulse',\n}: SkeletonProps) {\n  const variantClasses = {\n    text: 'h-4 w-full rounded',\n    circular: 'rounded-full',\n    rectangular: 'rounded-lg',\n  };\n\n  const animationClasses = {\n    pulse: 'animate-pulse',\n    wave: 'animate-wave',\n    none: '',\n  };\n\n  return (\n    <div\n      className={cn(\n        'bg-slate-200',\n        variantClasses[variant],\n        animationClasses[animation],\n        className\n      )}\n    />\n  );\n}\n\n// 預設 Skeleton 組合 - 頭像卡片\nexport function AvatarSkeleton({ size = 'md' }: { size?: 'sm' | 'md' | 'lg' }) {\n  const sizes = {\n    sm: 'h-10 w-10',\n    md: 'h-12 w-12',\n    lg: 'h-16 w-16',\n  };\n\n  return <Skeleton variant=\"circular\" className={sizes[size]} />;\n}\n\n// 預設 Skeleton 組合 - 文字行\nexport function TextSkeleton({ lines = 3 }: { lines?: number }) {\n  return (\n    <div className=\"space-y-2\">\n      {Array.from({ length: lines }).map((_, i) => (\n        <Skeleton\n          key={i}\n          variant=\"text\"\n          className={i === lines - 1 ? 'w-2/3' : 'w-full'}\n        />\n      ))}\n    </div>\n  );\n}\n\n// 預設 Skeleton 組合 - 業務員卡片\nexport function SalespersonCardSkeleton() {\n  return (\n    <div className=\"p-6 bg-white rounded-xl border border-slate-200 space-y-4\">\n      {/* 頭像與基本資訊 */}\n      <div className=\"flex items-start gap-4\">\n        <AvatarSkeleton size=\"lg\" />\n        <div className=\"flex-1 space-y-2\">\n          <Skeleton variant=\"text\" className=\"w-1/3 h-5\" />\n          <Skeleton variant=\"text\" className=\"w-1/2 h-4\" />\n        </div>\n      </div>\n\n      {/* 簡介 */}\n      <TextSkeleton lines={2} />\n\n      {/* 標籤 */}\n      <div className=\"flex gap-2\">\n        <Skeleton className=\"h-6 w-16 rounded-full\" />\n        <Skeleton className=\"h-6 w-20 rounded-full\" />\n        <Skeleton className=\"h-6 w-18 rounded-full\" />\n      </div>\n    </div>\n  );\n}\n\n// 預設 Skeleton 組合 - 表格行\nexport function TableRowSkeleton({ columns = 4 }: { columns?: number }) {\n  return (\n    <div className=\"flex items-center gap-4 p-4 border-b border-slate-200\">\n      {Array.from({ length: columns }).map((_, i) => (\n        <Skeleton key={i} variant=\"text\" className=\"flex-1\" />\n      ))}\n    </div>\n  );\n}\n\n// 預設 Skeleton 組合 - 個人資料\nexport function ProfileSkeleton() {\n  return (\n    <div className=\"space-y-6\">\n      {/* 頭像區塊 */}\n      <div className=\"flex items-center gap-6\">\n        <AvatarSkeleton size=\"lg\" />\n        <div className=\"flex-1 space-y-2\">\n          <Skeleton variant=\"text\" className=\"w-1/4 h-6\" />\n          <Skeleton variant=\"text\" className=\"w-1/3 h-4\" />\n        </div>\n      </div>\n\n      {/* 資訊欄位 */}\n      <div className=\"space-y-4\">\n        <div className=\"space-y-2\">\n          <Skeleton variant=\"text\" className=\"w-20 h-4\" />\n          <Skeleton variant=\"rectangular\" className=\"w-full h-10\" />\n        </div>\n        <div className=\"space-y-2\">\n          <Skeleton variant=\"text\" className=\"w-20 h-4\" />\n          <Skeleton variant=\"rectangular\" className=\"w-full h-10\" />\n        </div>\n        <div className=\"space-y-2\">\n          <Skeleton variant=\"text\" className=\"w-20 h-4\" />\n          <Skeleton variant=\"rectangular\" className=\"w-full h-24\" />\n        </div>\n      </div>\n    </div>\n  );\n}\n"],"names":[],"mappings":";;;;;;;;;;;;;;;AAAA;AAAA;;;AAQO,SAAS,SAAS,EACvB,SAAS,EACT,UAAU,aAAa,EACvB,YAAY,OAAO,EACL;IACd,MAAM,iBAAiB;QACrB,MAAM;QACN,UAAU;QACV,aAAa;IACf;IAEA,MAAM,mBAAmB;QACvB,OAAO;QACP,MAAM;QACN,MAAM;IACR;IAEA,qBACE,8OAAC;QACC,WAAW,IAAA,wHAAE,EACX,gBACA,cAAc,CAAC,QAAQ,EACvB,gBAAgB,CAAC,UAAU,EAC3B;;;;;;AAIR;AAGO,SAAS,eAAe,EAAE,OAAO,IAAI,EAAiC;IAC3E,MAAM,QAAQ;QACZ,IAAI;QACJ,IAAI;QACJ,IAAI;IACN;IAEA,qBAAO,8OAAC;QAAS,SAAQ;QAAW,WAAW,KAAK,CAAC,KAAK;;;;;;AAC5D;AAGO,SAAS,aAAa,EAAE,QAAQ,CAAC,EAAsB;IAC5D,qBACE,8OAAC;QAAI,WAAU;kBACZ,MAAM,IAAI,CAAC;YAAE,QAAQ;QAAM,GAAG,GAAG,CAAC,CAAC,GAAG,kBACrC,8OAAC;gBAEC,SAAQ;gBACR,WAAW,MAAM,QAAQ,IAAI,UAAU;eAFlC;;;;;;;;;;AAOf;AAGO,SAAS;IACd,qBACE,8OAAC;QAAI,WAAU;;0BAEb,8OAAC;gBAAI,WAAU;;kCACb,8OAAC;wBAAe,MAAK;;;;;;kCACrB,8OAAC;wBAAI,WAAU;;0CACb,8OAAC;gCAAS,SAAQ;gCAAO,WAAU;;;;;;0CACnC,8OAAC;gCAAS,SAAQ;gCAAO,WAAU;;;;;;;;;;;;;;;;;;0BAKvC,8OAAC;gBAAa,OAAO;;;;;;0BAGrB,8OAAC;gBAAI,WAAU;;kCACb,8OAAC;wBAAS,WAAU;;;;;;kCACpB,8OAAC;wBAAS,WAAU;;;;;;kCACpB,8OAAC;wBAAS,WAAU;;;;;;;;;;;;;;;;;;AAI5B;AAGO,SAAS,iBAAiB,EAAE,UAAU,CAAC,EAAwB;IACpE,qBACE,8OAAC;QAAI,WAAU;kBACZ,MAAM,IAAI,CAAC;YAAE,QAAQ;QAAQ,GAAG,GAAG,CAAC,CAAC,GAAG,kBACvC,8OAAC;gBAAiB,SAAQ;gBAAO,WAAU;eAA5B;;;;;;;;;;AAIvB;AAGO,SAAS;IACd,qBACE,8OAAC;QAAI,WAAU;;0BAEb,8OAAC;gBAAI,WAAU;;kCACb,8OAAC;wBAAe,MAAK;;;;;;kCACrB,8OAAC;wBAAI,WAAU;;0CACb,8OAAC;gCAAS,SAAQ;gCAAO,WAAU;;;;;;0CACnC,8OAAC;gCAAS,SAAQ;gCAAO,WAAU;;;;;;;;;;;;;;;;;;0BAKvC,8OAAC;gBAAI,WAAU;;kCACb,8OAAC;wBAAI,WAAU;;0CACb,8OAAC;gCAAS,SAAQ;gCAAO,WAAU;;;;;;0CACnC,8OAAC;gCAAS,SAAQ;gCAAc,WAAU;;;;;;;;;;;;kCAE5C,8OAAC;wBAAI,WAAU;;0CACb,8OAAC;gCAAS,SAAQ;gCAAO,WAAU;;;;;;0CACnC,8OAAC;gCAAS,SAAQ;gCAAc,WAAU;;;;;;;;;;;;kCAE5C,8OAAC;wBAAI,WAAU;;0CACb,8OAAC;gCAAS,SAAQ;gCAAO,WAAU;;;;;;0CACnC,8OAAC;gCAAS,SAAQ;gCAAc,WAAU;;;;;;;;;;;;;;;;;;;;;;;;AAKpD"}},
    {"offset": {"line": 861, "column": 0}, "map": {"version":3,"sources":["file:///Users/kai/KAA/my_profile/frontend/lib/api/salesperson.ts"],"sourcesContent":["import { apiClient } from './client';\nimport type {\n  ApiResponse,\n  SalespersonProfile,\n  Experience,\n  Certification,\n  Company,\n  ApprovalStatusData,\n} from '@/types/api';\n\n// ========== Profile APIs ==========\n\n/**\n * 取得個人檔案\n */\nexport async function getProfile(): Promise<ApiResponse<SalespersonProfile>> {\n  const response = await apiClient.get<ApiResponse<SalespersonProfile>>('/salesperson/profile');\n  return response.data;\n}\n\n/**\n * 更新個人檔案\n */\nexport interface UpdateProfileRequest {\n  full_name?: string;\n  phone?: string;\n  bio?: string;\n  specialties?: string;\n  service_regions?: string[]; // JSON array of region names\n  avatar?: string; // Base64 encoded image\n}\n\nexport async function updateProfile(data: UpdateProfileRequest): Promise<ApiResponse<SalespersonProfile>> {\n  const response = await apiClient.put<ApiResponse<SalespersonProfile>>('/salesperson/profile', data);\n  return response.data;\n}\n\n// ========== Company APIs ==========\n\n/**\n * 儲存公司資訊（等待審核）\n */\nexport interface SaveCompanyRequest {\n  name: string;\n  industry_id: number;\n}\n\nexport async function saveCompany(data: SaveCompanyRequest): Promise<ApiResponse<Company>> {\n  const response = await apiClient.post<ApiResponse<Company>>('/salesperson/company', data);\n  return response.data;\n}\n\n// ========== Experience APIs ==========\n\n/**\n * 取得工作經驗清單\n */\nexport async function getExperiences(): Promise<ApiResponse<Experience[]>> {\n  const response = await apiClient.get<ApiResponse<Experience[]>>('/salesperson/experiences');\n  return response.data;\n}\n\n/**\n * 新增工作經驗\n */\nexport interface CreateExperienceRequest {\n  company: string;\n  position: string;\n  start_date: string; // YYYY-MM-DD\n  end_date?: string | null; // YYYY-MM-DD\n  description?: string;\n}\n\nexport async function createExperience(data: CreateExperienceRequest): Promise<ApiResponse<Experience>> {\n  const response = await apiClient.post<ApiResponse<Experience>>('/salesperson/experiences', data);\n  return response.data;\n}\n\n/**\n * 更新工作經驗\n */\nexport async function updateExperience(id: number, data: CreateExperienceRequest): Promise<ApiResponse<Experience>> {\n  const response = await apiClient.put<ApiResponse<Experience>>(`/salesperson/experiences/${id}`, data);\n  return response.data;\n}\n\n/**\n * 刪除工作經驗\n */\nexport async function deleteExperience(id: number): Promise<ApiResponse<void>> {\n  const response = await apiClient.delete<ApiResponse<void>>(`/salesperson/experiences/${id}`);\n  return response.data;\n}\n\n// ========== Certification APIs ==========\n\n/**\n * 取得證照清單\n */\nexport async function getCertifications(): Promise<ApiResponse<Certification[]>> {\n  const response = await apiClient.get<ApiResponse<Certification[]>>('/salesperson/certifications');\n  return response.data;\n}\n\n/**\n * 上傳證照\n */\nexport interface CreateCertificationRequest {\n  name: string;\n  issuer: string;\n  issue_date: string; // YYYY-MM-DD\n  expiry_date?: string | null; // YYYY-MM-DD\n  description?: string;\n  file_data?: string; // Base64 encoded file\n}\n\nexport async function createCertification(data: CreateCertificationRequest): Promise<ApiResponse<Certification>> {\n  const response = await apiClient.post<ApiResponse<Certification>>('/salesperson/certifications', data);\n  return response.data;\n}\n\n/**\n * 刪除證照\n */\nexport async function deleteCertification(id: number): Promise<ApiResponse<void>> {\n  const response = await apiClient.delete<ApiResponse<void>>(`/salesperson/certifications/${id}`);\n  return response.data;\n}\n\n// ========== Approval Status API ==========\n\n/**\n * 查詢審核狀態\n */\nexport async function getApprovalStatus(): Promise<ApiResponse<ApprovalStatusData>> {\n  const response = await apiClient.get<ApiResponse<ApprovalStatusData>>('/salesperson/approval-status');\n  return response.data;\n}\n"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;AAAA;;AAeO,eAAe;IACpB,MAAM,WAAW,MAAM,iIAAS,CAAC,GAAG,CAAkC;IACtE,OAAO,SAAS,IAAI;AACtB;AAcO,eAAe,cAAc,IAA0B;IAC5D,MAAM,WAAW,MAAM,iIAAS,CAAC,GAAG,CAAkC,wBAAwB;IAC9F,OAAO,SAAS,IAAI;AACtB;AAYO,eAAe,YAAY,IAAwB;IACxD,MAAM,WAAW,MAAM,iIAAS,CAAC,IAAI,CAAuB,wBAAwB;IACpF,OAAO,SAAS,IAAI;AACtB;AAOO,eAAe;IACpB,MAAM,WAAW,MAAM,iIAAS,CAAC,GAAG,CAA4B;IAChE,OAAO,SAAS,IAAI;AACtB;AAaO,eAAe,iBAAiB,IAA6B;IAClE,MAAM,WAAW,MAAM,iIAAS,CAAC,IAAI,CAA0B,4BAA4B;IAC3F,OAAO,SAAS,IAAI;AACtB;AAKO,eAAe,iBAAiB,EAAU,EAAE,IAA6B;IAC9E,MAAM,WAAW,MAAM,iIAAS,CAAC,GAAG,CAA0B,CAAC,yBAAyB,EAAE,IAAI,EAAE;IAChG,OAAO,SAAS,IAAI;AACtB;AAKO,eAAe,iBAAiB,EAAU;IAC/C,MAAM,WAAW,MAAM,iIAAS,CAAC,MAAM,CAAoB,CAAC,yBAAyB,EAAE,IAAI;IAC3F,OAAO,SAAS,IAAI;AACtB;AAOO,eAAe;IACpB,MAAM,WAAW,MAAM,iIAAS,CAAC,GAAG,CAA+B;IACnE,OAAO,SAAS,IAAI;AACtB;AAcO,eAAe,oBAAoB,IAAgC;IACxE,MAAM,WAAW,MAAM,iIAAS,CAAC,IAAI,CAA6B,+BAA+B;IACjG,OAAO,SAAS,IAAI;AACtB;AAKO,eAAe,oBAAoB,EAAU;IAClD,MAAM,WAAW,MAAM,iIAAS,CAAC,MAAM,CAAoB,CAAC,4BAA4B,EAAE,IAAI;IAC9F,OAAO,SAAS,IAAI;AACtB;AAOO,eAAe;IACpB,MAAM,WAAW,MAAM,iIAAS,CAAC,GAAG,CAAkC;IACtE,OAAO,SAAS,IAAI;AACtB"}},
    {"offset": {"line": 935, "column": 0}, "map": {"version":3,"sources":["file:///Users/kai/KAA/my_profile/frontend/hooks/useSalesperson.ts"],"sourcesContent":["import { useQuery, useMutation, useQueryClient } from '@tanstack/react-query';\nimport { toast } from 'sonner';\nimport * as salespersonApi from '@/lib/api/salesperson';\n\n// ========== Query Keys ==========\n\nexport const salespersonKeys = {\n  profile: ['salesperson', 'profile'] as const,\n  experiences: ['salesperson', 'experiences'] as const,\n  certifications: ['salesperson', 'certifications'] as const,\n  approvalStatus: ['salesperson', 'approval-status'] as const,\n};\n\n// ========== Profile Hooks ==========\n\n/**\n * 取得個人檔案\n */\nexport function useProfile() {\n  return useQuery({\n    queryKey: salespersonKeys.profile,\n    queryFn: async () => {\n      const response = await salespersonApi.getProfile();\n      return response.data;\n    },\n  });\n}\n\n/**\n * 更新個人檔案\n */\nexport function useUpdateProfile() {\n  const queryClient = useQueryClient();\n\n  return useMutation({\n    mutationFn: salespersonApi.updateProfile,\n    onSuccess: (response) => {\n      queryClient.invalidateQueries({ queryKey: salespersonKeys.profile });\n      toast.success(response.message || '個人資料已更新');\n    },\n    onError: (error: any) => {\n      const message = error.response?.data?.message || '更新失敗，請稍後再試';\n      toast.error(message);\n    },\n  });\n}\n\n// ========== Company Hooks ==========\n\n/**\n * 儲存公司資訊\n */\nexport function useSaveCompany() {\n  const queryClient = useQueryClient();\n\n  return useMutation({\n    mutationFn: salespersonApi.saveCompany,\n    onSuccess: (response) => {\n      queryClient.invalidateQueries({ queryKey: salespersonKeys.profile });\n      toast.success(response.message || '公司資訊已送出，等待審核');\n    },\n    onError: (error: any) => {\n      const message = error.response?.data?.message || '儲存失敗，請稍後再試';\n      toast.error(message);\n    },\n  });\n}\n\n// ========== Experience Hooks ==========\n\n/**\n * 取得工作經驗列表\n */\nexport function useExperiences() {\n  return useQuery({\n    queryKey: salespersonKeys.experiences,\n    queryFn: async () => {\n      const response = await salespersonApi.getExperiences();\n      return response.data;\n    },\n  });\n}\n\n/**\n * 新增工作經驗\n */\nexport function useCreateExperience() {\n  const queryClient = useQueryClient();\n\n  return useMutation({\n    mutationFn: salespersonApi.createExperience,\n    onSuccess: (response) => {\n      queryClient.invalidateQueries({ queryKey: salespersonKeys.experiences });\n      toast.success(response.message || '工作經驗已新增');\n    },\n    onError: (error: any) => {\n      const message = error.response?.data?.message || '新增失敗，請稍後再試';\n      toast.error(message);\n    },\n  });\n}\n\n/**\n * 更新工作經驗\n */\nexport function useUpdateExperience() {\n  const queryClient = useQueryClient();\n\n  return useMutation({\n    mutationFn: ({ id, data }: { id: number; data: salespersonApi.CreateExperienceRequest }) =>\n      salespersonApi.updateExperience(id, data),\n    onSuccess: (response) => {\n      queryClient.invalidateQueries({ queryKey: salespersonKeys.experiences });\n      toast.success(response.message || '工作經驗已更新');\n    },\n    onError: (error: any) => {\n      const message = error.response?.data?.message || '更新失敗，請稍後再試';\n      toast.error(message);\n    },\n  });\n}\n\n/**\n * 刪除工作經驗\n */\nexport function useDeleteExperience() {\n  const queryClient = useQueryClient();\n\n  return useMutation({\n    mutationFn: salespersonApi.deleteExperience,\n    onSuccess: (response) => {\n      queryClient.invalidateQueries({ queryKey: salespersonKeys.experiences });\n      toast.success(response.message || '工作經驗已刪除');\n    },\n    onError: (error: any) => {\n      const message = error.response?.data?.message || '刪除失敗，請稍後再試';\n      toast.error(message);\n    },\n  });\n}\n\n// ========== Certification Hooks ==========\n\n/**\n * 取得證照列表\n */\nexport function useCertifications() {\n  return useQuery({\n    queryKey: salespersonKeys.certifications,\n    queryFn: async () => {\n      const response = await salespersonApi.getCertifications();\n      return response.data;\n    },\n  });\n}\n\n/**\n * 上傳證照\n */\nexport function useCreateCertification() {\n  const queryClient = useQueryClient();\n\n  return useMutation({\n    mutationFn: salespersonApi.createCertification,\n    onSuccess: (response) => {\n      queryClient.invalidateQueries({ queryKey: salespersonKeys.certifications });\n      queryClient.invalidateQueries({ queryKey: salespersonKeys.approvalStatus });\n      toast.success(response.message || '證照已上傳，等待審核');\n    },\n    onError: (error: any) => {\n      const message = error.response?.data?.message || '上傳失敗，請稍後再試';\n      toast.error(message);\n    },\n  });\n}\n\n/**\n * 刪除證照\n */\nexport function useDeleteCertification() {\n  const queryClient = useQueryClient();\n\n  return useMutation({\n    mutationFn: salespersonApi.deleteCertification,\n    onSuccess: (response) => {\n      queryClient.invalidateQueries({ queryKey: salespersonKeys.certifications });\n      toast.success(response.message || '證照已刪除');\n    },\n    onError: (error: any) => {\n      const message = error.response?.data?.message || '刪除失敗，請稍後再試';\n      toast.error(message);\n    },\n  });\n}\n\n// ========== Approval Status Hook ==========\n\n/**\n * 查詢審核狀態\n */\nexport function useApprovalStatus() {\n  return useQuery({\n    queryKey: salespersonKeys.approvalStatus,\n    queryFn: async () => {\n      const response = await salespersonApi.getApprovalStatus();\n      return response.data;\n    },\n  });\n}\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 1142, "column": 0}, "map": {"version":3,"sources":["file:///Users/kai/KAA/my_profile/frontend/lib/api/search.ts"],"sourcesContent":["import { apiClient } from './client';\nimport {\n  ApiResponse,\n  PaginatedResponse,\n  SearchParams,\n  SalespersonSearchResult,\n  SalespersonProfile,\n} from '@/types/api';\n\n/**\n * 搜尋業務員\n */\nexport async function searchSalespersons(\n  params: SearchParams\n): Promise<PaginatedResponse<SalespersonSearchResult>> {\n  const response = await apiClient.get<ApiResponse<PaginatedResponse<SalespersonSearchResult>>>(\n    '/search/salespersons',\n    { params }\n  );\n  return response.data.data!;\n}\n\n/**\n * 取得業務員詳細資料\n */\nexport async function getSalespersonDetail(id: number): Promise<SalespersonProfile> {\n  const response = await apiClient.get<ApiResponse<SalespersonProfile>>(\n    `/search/salespersons/${id}`\n  );\n  return response.data.data!;\n}\n\n/**\n * 取得產業類別列表\n */\nexport async function getIndustries() {\n  const response = await apiClient.get('/industries');\n  return response.data.data;\n}\n\n/**\n * 取得地區列表\n */\nexport async function getRegions() {\n  const response = await apiClient.get('/regions');\n  return response.data.data;\n}\n"],"names":[],"mappings":";;;;;;;;;;AAAA;;AAYO,eAAe,mBACpB,MAAoB;IAEpB,MAAM,WAAW,MAAM,iIAAS,CAAC,GAAG,CAClC,wBACA;QAAE;IAAO;IAEX,OAAO,SAAS,IAAI,CAAC,IAAI;AAC3B;AAKO,eAAe,qBAAqB,EAAU;IACnD,MAAM,WAAW,MAAM,iIAAS,CAAC,GAAG,CAClC,CAAC,qBAAqB,EAAE,IAAI;IAE9B,OAAO,SAAS,IAAI,CAAC,IAAI;AAC3B;AAKO,eAAe;IACpB,MAAM,WAAW,MAAM,iIAAS,CAAC,GAAG,CAAC;IACrC,OAAO,SAAS,IAAI,CAAC,IAAI;AAC3B;AAKO,eAAe;IACpB,MAAM,WAAW,MAAM,iIAAS,CAAC,GAAG,CAAC;IACrC,OAAO,SAAS,IAAI,CAAC,IAAI;AAC3B"}},
    {"offset": {"line": 1176, "column": 0}, "map": {"version":3,"sources":["file:///Users/kai/KAA/my_profile/frontend/hooks/useSearch.ts"],"sourcesContent":["import { useQuery, UseQueryResult } from '@tanstack/react-query';\nimport {\n  searchSalespersons,\n  getSalespersonDetail,\n  getIndustries,\n  getRegions,\n} from '@/lib/api/search';\nimport {\n  PaginatedResponse,\n  SearchParams,\n  SalespersonSearchResult,\n  SalespersonProfile,\n  Industry,\n  Region,\n} from '@/types/api';\n\n/**\n * 搜尋業務員 Hook\n */\nexport function useSearchSalespersons(params: SearchParams) {\n  return useQuery<PaginatedResponse<SalespersonSearchResult>>({\n    queryKey: ['salespersons', params],\n    queryFn: () => searchSalespersons(params),\n    staleTime: 30000, // 30 秒\n  });\n}\n\n/**\n * 取得業務員詳細資料 Hook\n */\nexport function useSalespersonDetail(id: number) {\n  return useQuery<SalespersonProfile>({\n    queryKey: ['salesperson', id],\n    queryFn: () => getSalespersonDetail(id),\n    enabled: !!id,\n    staleTime: 60000, // 60 秒\n  });\n}\n\n/**\n * 取得產業類別列表 Hook\n */\nexport function useIndustries() {\n  return useQuery<Industry[]>({\n    queryKey: ['industries'],\n    queryFn: getIndustries,\n    staleTime: 300000, // 5 分鐘\n  });\n}\n\n/**\n * 取得地區列表 Hook\n */\nexport function useRegions() {\n  return useQuery<Region[]>({\n    queryKey: ['regions'],\n    queryFn: getRegions,\n    staleTime: 300000, // 5 分鐘\n  });\n}\n"],"names":[],"mappings":";;;;;;;;;;AAAA;AACA;;;AAkBO,SAAS,sBAAsB,MAAoB;IACxD,OAAO,IAAA,uLAAQ,EAA6C;QAC1D,UAAU;YAAC;YAAgB;SAAO;QAClC,SAAS,IAAM,IAAA,0IAAkB,EAAC;QAClC,WAAW;IACb;AACF;AAKO,SAAS,qBAAqB,EAAU;IAC7C,OAAO,IAAA,uLAAQ,EAAqB;QAClC,UAAU;YAAC;YAAe;SAAG;QAC7B,SAAS,IAAM,IAAA,4IAAoB,EAAC;QACpC,SAAS,CAAC,CAAC;QACX,WAAW;IACb;AACF;AAKO,SAAS;IACd,OAAO,IAAA,uLAAQ,EAAa;QAC1B,UAAU;YAAC;SAAa;QACxB,SAAS,qIAAa;QACtB,WAAW;IACb;AACF;AAKO,SAAS;IACd,OAAO,IAAA,uLAAQ,EAAW;QACxB,UAAU;YAAC;SAAU;QACrB,SAAS,kIAAU;QACnB,WAAW;IACb;AACF"}},
    {"offset": {"line": 1233, "column": 0}, "map": {"version":3,"sources":["file:///Users/kai/KAA/my_profile/frontend/lib/utils/image.ts"],"sourcesContent":["/**\n * 圖片上傳工具函數\n * 提供圖片驗證、壓縮和 Base64 轉換功能\n */\n\n// 支援的圖片格式\nconst SUPPORTED_IMAGE_TYPES = ['image/jpeg', 'image/jpg', 'image/png', 'image/webp'];\n\n// 預設最大檔案大小 (2MB)\nconst DEFAULT_MAX_SIZE_MB = 2;\n\n/**\n * 驗證圖片檔案\n * @param file - 要驗證的檔案\n * @param maxSizeMB - 最大檔案大小 (MB)，預設 2MB\n * @returns 驗證結果物件\n */\nexport interface ImageValidationResult {\n  valid: boolean;\n  error?: string;\n}\n\nexport function validateImage(\n  file: File,\n  maxSizeMB: number = DEFAULT_MAX_SIZE_MB\n): ImageValidationResult {\n  // 檢查檔案是否存在\n  if (!file) {\n    return {\n      valid: false,\n      error: '請選擇檔案',\n    };\n  }\n\n  // 檢查檔案類型\n  if (!SUPPORTED_IMAGE_TYPES.includes(file.type)) {\n    return {\n      valid: false,\n      error: '不支援的檔案格式，請上傳 JPG、PNG 或 WebP 格式',\n    };\n  }\n\n  // 檢查檔案大小\n  const maxSizeBytes = maxSizeMB * 1024 * 1024;\n  if (file.size > maxSizeBytes) {\n    return {\n      valid: false,\n      error: `檔案大小不能超過 ${maxSizeMB}MB`,\n    };\n  }\n\n  return {\n    valid: true,\n  };\n}\n\n/**\n * 將檔案轉換為 Base64 字串\n * @param file - 要轉換的檔案\n * @returns Promise<string> - Base64 字串\n */\nexport function fileToBase64(file: File): Promise<string> {\n  return new Promise((resolve, reject) => {\n    const reader = new FileReader();\n\n    reader.onloadend = () => {\n      if (typeof reader.result === 'string') {\n        resolve(reader.result);\n      } else {\n        reject(new Error('無法讀取檔案'));\n      }\n    };\n\n    reader.onerror = () => {\n      reject(new Error('讀取檔案時發生錯誤'));\n    };\n\n    reader.readAsDataURL(file);\n  });\n}\n\n/**\n * 壓縮圖片\n * @param file - 要壓縮的圖片檔案\n * @param maxSizeMB - 目標最大檔案大小 (MB)\n * @param quality - 壓縮品質 (0-1)，預設 0.8\n * @returns Promise<File> - 壓縮後的檔案\n */\nexport function compressImage(\n  file: File,\n  maxSizeMB: number = DEFAULT_MAX_SIZE_MB,\n  quality: number = 0.8\n): Promise<File> {\n  return new Promise((resolve, reject) => {\n    // 如果檔案已經小於目標大小，直接返回\n    if (file.size <= maxSizeMB * 1024 * 1024) {\n      resolve(file);\n      return;\n    }\n\n    const reader = new FileReader();\n    reader.readAsDataURL(file);\n\n    reader.onload = (event) => {\n      const img = new Image();\n      img.src = event.target?.result as string;\n\n      img.onload = () => {\n        const canvas = document.createElement('canvas');\n        let width = img.width;\n        let height = img.height;\n\n        // 計算縮放比例\n        const maxDimension = 2048; // 最大寬度或高度\n        if (width > height && width > maxDimension) {\n          height = (height * maxDimension) / width;\n          width = maxDimension;\n        } else if (height > maxDimension) {\n          width = (width * maxDimension) / height;\n          height = maxDimension;\n        }\n\n        canvas.width = width;\n        canvas.height = height;\n\n        const ctx = canvas.getContext('2d');\n        if (!ctx) {\n          reject(new Error('無法建立 Canvas Context'));\n          return;\n        }\n\n        ctx.drawImage(img, 0, 0, width, height);\n\n        // 轉換為 Blob\n        canvas.toBlob(\n          (blob) => {\n            if (!blob) {\n              reject(new Error('壓縮圖片失敗'));\n              return;\n            }\n\n            // 如果壓縮後仍然太大，降低品質重試\n            if (blob.size > maxSizeMB * 1024 * 1024 && quality > 0.5) {\n              compressImage(file, maxSizeMB, quality - 0.1)\n                .then(resolve)\n                .catch(reject);\n              return;\n            }\n\n            // 建立新的 File 物件\n            const compressedFile = new File([blob], file.name, {\n              type: file.type,\n              lastModified: Date.now(),\n            });\n\n            resolve(compressedFile);\n          },\n          file.type,\n          quality\n        );\n      };\n\n      img.onerror = () => {\n        reject(new Error('載入圖片失敗'));\n      };\n    };\n\n    reader.onerror = () => {\n      reject(new Error('讀取檔案失敗'));\n    };\n  });\n}\n\n/**\n * 處理圖片上傳（驗證 + 壓縮 + 轉 Base64）\n * @param file - 要處理的圖片檔案\n * @param maxSizeMB - 最大檔案大小 (MB)\n * @returns Promise<string> - Base64 字串\n */\nexport async function processImageUpload(\n  file: File,\n  maxSizeMB: number = DEFAULT_MAX_SIZE_MB\n): Promise<string> {\n  // 1. 驗證圖片\n  const validation = validateImage(file, maxSizeMB * 2); // 允許稍大的原始檔案\n  if (!validation.valid) {\n    throw new Error(validation.error);\n  }\n\n  // 2. 壓縮圖片\n  const compressedFile = await compressImage(file, maxSizeMB);\n\n  // 3. 轉換為 Base64\n  const base64 = await fileToBase64(compressedFile);\n\n  return base64;\n}\n\n/**\n * 從 Base64 字串取得檔案大小 (bytes)\n * @param base64 - Base64 字串\n * @returns 檔案大小 (bytes)\n */\nexport function getBase64Size(base64: string): number {\n  // 移除 data:image/xxx;base64, 前綴\n  const base64Data = base64.split(',')[1] || base64;\n\n  // Base64 每 4 個字元代表 3 bytes\n  // 如果有 padding (=)，需要扣除\n  const padding = (base64Data.match(/=/g) || []).length;\n  return (base64Data.length * 3) / 4 - padding;\n}\n\n/**\n * 格式化檔案大小顯示\n * @param bytes - 檔案大小 (bytes)\n * @returns 格式化後的字串 (例: \"1.5 MB\")\n */\nexport function formatFileSize(bytes: number): string {\n  if (bytes === 0) return '0 Bytes';\n\n  const k = 1024;\n  const sizes = ['Bytes', 'KB', 'MB', 'GB'];\n  const i = Math.floor(Math.log(bytes) / Math.log(k));\n\n  return Math.round((bytes / Math.pow(k, i)) * 100) / 100 + ' ' + sizes[i];\n}\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 1401, "column": 0}, "map": {"version":3,"sources":["file:///Users/kai/KAA/my_profile/frontend/app/%28dashboard%29/dashboard/page.tsx"],"sourcesContent":["'use client';\n\nimport { useState, useRef, ChangeEvent, useEffect } from 'react';\nimport { useForm, Controller } from 'react-hook-form';\nimport { zodResolver } from '@hookform/resolvers/zod';\nimport { z } from 'zod';\nimport { Card, CardHeader, CardTitle, CardContent } from '@/components/ui/card';\nimport { Input } from '@/components/ui/input';\nimport { Button } from '@/components/ui/button';\nimport { Badge } from '@/components/ui/badge';\nimport { Avatar } from '@/components/ui/avatar';\nimport { ProfileSkeleton } from '@/components/ui/skeleton';\nimport { Camera, Save, Building2, X } from 'lucide-react';\nimport { useProfile, useUpdateProfile, useSaveCompany } from '@/hooks/useSalesperson';\nimport { useIndustries, useRegions } from '@/hooks/useSearch';\nimport { processImageUpload, formatFileSize } from '@/lib/utils/image';\nimport { toast } from 'sonner';\n\n// 個人資料表單驗證\nconst profileSchema = z.object({\n  full_name: z.string().min(2, '姓名至少需要 2 個字元').max(100, '姓名不能超過 100 個字元'),\n  phone: z.string().regex(/^09\\d{8}$/, '請輸入有效的手機號碼（例：0912345678）').optional().or(z.literal('')),\n  bio: z.string().max(500, '簡介不能超過 500 個字元').optional().or(z.literal('')),\n  specialties: z.string().max(200, '專長不能超過 200 個字元').optional().or(z.literal('')),\n  service_regions: z.array(z.string()).optional(),\n  avatar: z.string().optional(),\n});\n\ntype ProfileFormData = z.infer<typeof profileSchema>;\n\n// 公司資訊表單驗證\nconst companySchema = z.object({\n  name: z.string().min(2, '公司名稱至少需要 2 個字元').max(100, '公司名稱不能超過 100 個字元'),\n  industry_id: z.number().min(1, '請選擇產業類別'),\n});\n\ntype CompanyFormData = z.infer<typeof companySchema>;\n\nexport default function ProfilePage() {\n  const [editMode, setEditMode] = useState(false);\n  const [avatarPreview, setAvatarPreview] = useState<string | null>(null);\n  const fileInputRef = useRef<HTMLInputElement>(null);\n\n  // 獲取資料\n  const { data: profile, isLoading: profileLoading } = useProfile();\n  const { data: industries, isLoading: industriesLoading } = useIndustries();\n  const { data: regions, isLoading: regionsLoading } = useRegions();\n\n  // Mutations\n  const updateProfileMutation = useUpdateProfile();\n  const saveCompanyMutation = useSaveCompany();\n\n  // 個人資料表單\n  const {\n    register: registerProfile,\n    handleSubmit: handleProfileSubmit,\n    control: profileControl,\n    setValue: setProfileValue,\n    watch: watchProfile,\n    formState: { errors: profileErrors },\n    reset: resetProfile,\n  } = useForm<ProfileFormData>({\n    resolver: zodResolver(profileSchema),\n    defaultValues: {\n      full_name: profile?.full_name || '',\n      phone: profile?.phone || '',\n      bio: profile?.bio || '',\n      specialties: profile?.specialties || '',\n      service_regions: profile?.service_regions || [],\n    },\n  });\n\n  // 公司資訊表單\n  const {\n    register: registerCompany,\n    handleSubmit: handleCompanySubmit,\n    formState: { errors: companyErrors },\n    reset: resetCompany,\n  } = useForm<CompanyFormData>({\n    resolver: zodResolver(companySchema),\n    defaultValues: {\n      name: profile?.company?.name || '',\n      industry_id: profile?.company?.industry_id || undefined,\n    },\n  });\n\n  // 當資料載入完成時，重置表單\n  useEffect(() => {\n    if (profile) {\n      // 確保 service_regions 是陣列\n      let serviceRegions: string[] = [];\n      if (Array.isArray(profile.service_regions)) {\n        serviceRegions = profile.service_regions;\n      } else if (typeof profile.service_regions === 'string') {\n        try {\n          const parsed = JSON.parse(profile.service_regions);\n          serviceRegions = Array.isArray(parsed) ? parsed : [];\n        } catch {\n          serviceRegions = [];\n        }\n      }\n\n      resetProfile({\n        full_name: profile.full_name,\n        phone: profile.phone || '',\n        bio: profile.bio || '',\n        specialties: profile.specialties || '',\n        service_regions: serviceRegions,\n      });\n      resetCompany({\n        name: profile.company?.name || '',\n        industry_id: profile.company?.industry_id || undefined,\n      });\n    }\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [profile?.id]);\n\n  // 處理頭像上傳\n  const handleAvatarChange = async (e: ChangeEvent<HTMLInputElement>) => {\n    const file = e.target.files?.[0];\n    if (!file) return;\n\n    try {\n      // 顯示載入提示\n      const loadingToast = toast.loading('處理圖片中...');\n\n      // 使用圖片工具處理（驗證 + 壓縮 + 轉 Base64）\n      const base64String = await processImageUpload(file, 2); // 最大 2MB\n\n      // 更新預覽和表單\n      setAvatarPreview(base64String);\n      setProfileValue('avatar', base64String);\n\n      // 關閉載入提示並顯示成功訊息\n      toast.dismiss(loadingToast);\n      toast.success(`圖片已處理（${formatFileSize(file.size)}）`);\n    } catch (error) {\n      // 顯示錯誤訊息\n      toast.error(error instanceof Error ? error.message : '處理圖片失敗');\n\n      // 清除檔案選擇\n      if (fileInputRef.current) {\n        fileInputRef.current.value = '';\n      }\n    }\n  };\n\n  // 處理服務地區選擇\n  const selectedRegions = watchProfile('service_regions') || [];\n  const toggleRegion = (regionName: string) => {\n    const current = selectedRegions;\n    if (current.includes(regionName)) {\n      setProfileValue('service_regions', current.filter(name => name !== regionName));\n    } else {\n      setProfileValue('service_regions', [...current, regionName]);\n    }\n  };\n\n  // 提交個人資料\n  const onSubmitProfile = (data: ProfileFormData) => {\n    updateProfileMutation.mutate(data, {\n      onSuccess: () => {\n        setEditMode(false);\n        setAvatarPreview(null);\n      },\n    });\n  };\n\n  // 提交公司資訊\n  const onSubmitCompany = (data: CompanyFormData) => {\n    saveCompanyMutation.mutate(data);\n  };\n\n  if (profileLoading || industriesLoading || regionsLoading) {\n    return (\n      <div className=\"space-y-6\">\n        <div className=\"mb-6\">\n          <h1 className=\"text-2xl font-bold text-slate-900\">個人資料</h1>\n          <p className=\"text-slate-600 mt-1\">管理您的個人資訊</p>\n        </div>\n        <Card>\n          <CardContent className=\"p-8\">\n            <ProfileSkeleton />\n          </CardContent>\n        </Card>\n      </div>\n    );\n  }\n\n  const profileData = profile;\n\n  return (\n    <div className=\"space-y-6\">\n      {/* 頁面標題 */}\n      <div className=\"flex items-center justify-between\">\n        <div>\n          <h1 className=\"text-2xl font-bold text-slate-900\">個人資料</h1>\n          <p className=\"text-slate-600 mt-1\">管理您的個人資訊</p>\n        </div>\n        {!editMode && (\n          <Button onClick={() => setEditMode(true)}>編輯資料</Button>\n        )}\n      </div>\n\n      {/* 個人資料卡片 */}\n      <Card>\n        <CardHeader>\n          <CardTitle>基本資料</CardTitle>\n        </CardHeader>\n        <CardContent>\n          {!editMode ? (\n            // 檢視模式\n            <div className=\"space-y-6\">\n              {/* 頭像 */}\n              <div className=\"flex items-center gap-6\">\n                <Avatar\n                  src={profileData?.avatar}\n                  fallback={profileData?.full_name.substring(0, 2)}\n                  size=\"2xl\"\n                />\n                <div>\n                  <h3 className=\"text-xl font-semibold text-slate-900\">\n                    {profileData?.full_name}\n                  </h3>\n                  {profileData?.phone && (\n                    <p className=\"text-slate-600\">{profileData.phone}</p>\n                  )}\n                </div>\n              </div>\n\n              {/* 簡介 */}\n              {profileData?.bio && (\n                <div>\n                  <h4 className=\"text-sm font-semibold text-slate-700 mb-2\">個人簡介</h4>\n                  <p className=\"text-slate-600 whitespace-pre-line\">{profileData.bio}</p>\n                </div>\n              )}\n\n              {/* 專長 */}\n              {profileData?.specialties && (\n                <div>\n                  <h4 className=\"text-sm font-semibold text-slate-700 mb-2\">專長領域</h4>\n                  <div className=\"flex flex-wrap gap-2\">\n                    {profileData.specialties.split(',').map((specialty, index) => (\n                      <Badge key={index} variant=\"primary\" size=\"sm\">\n                        {specialty.trim()}\n                      </Badge>\n                    ))}\n                  </div>\n                </div>\n              )}\n\n              {/* 服務地區 */}\n              {profileData?.service_regions && Array.isArray(profileData.service_regions) && profileData.service_regions.length > 0 && (\n                <div>\n                  <h4 className=\"text-sm font-semibold text-slate-700 mb-2\">服務地區</h4>\n                  <div className=\"flex flex-wrap gap-2\">\n                    {profileData.service_regions.map((regionName, index) => (\n                      <Badge key={index} variant=\"secondary\" size=\"sm\">\n                        {regionName}\n                      </Badge>\n                    ))}\n                  </div>\n                </div>\n              )}\n            </div>\n          ) : (\n            // 編輯模式\n            <form onSubmit={handleProfileSubmit(onSubmitProfile)} className=\"space-y-6\">\n              {/* 頭像上傳 */}\n              <div className=\"flex items-start gap-6\">\n                <div className=\"relative\">\n                  <Avatar\n                    src={avatarPreview || profileData?.avatar}\n                    fallback={profileData?.full_name.substring(0, 2)}\n                    size=\"2xl\"\n                  />\n                  <button\n                    type=\"button\"\n                    onClick={() => fileInputRef.current?.click()}\n                    className=\"absolute bottom-0 right-0 p-2 bg-primary-600 text-white rounded-full hover:bg-primary-700 transition-colors\"\n                  >\n                    <Camera className=\"h-4 w-4\" />\n                  </button>\n                  <input\n                    ref={fileInputRef}\n                    type=\"file\"\n                    accept=\"image/*\"\n                    className=\"hidden\"\n                    onChange={handleAvatarChange}\n                  />\n                </div>\n                <div className=\"flex-1\">\n                  <p className=\"text-sm text-slate-600 mb-1\">點擊相機圖示上傳頭像</p>\n                  <p className=\"text-xs text-slate-500\">支援 JPG、PNG 格式，檔案大小不超過 2MB</p>\n                </div>\n              </div>\n\n              <Input\n                label=\"姓名\"\n                type=\"text\"\n                error={profileErrors.full_name?.message}\n                required\n                {...registerProfile('full_name')}\n              />\n\n              <Input\n                label=\"手機號碼\"\n                type=\"tel\"\n                placeholder=\"0912345678\"\n                error={profileErrors.phone?.message}\n                {...registerProfile('phone')}\n              />\n\n              {/* 簡介 */}\n              <div className=\"space-y-2\">\n                <label className=\"text-sm font-semibold text-slate-700\">\n                  個人簡介\n                </label>\n                <textarea\n                  className=\"flex w-full rounded-xl border-2 border-slate-200 bg-white px-4 py-2 text-base placeholder:text-slate-400 focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-primary-500 hover:border-slate-300 transition-all duration-200 resize-none\"\n                  rows={4}\n                  placeholder=\"介紹您的工作經驗和專業背景...\"\n                  {...registerProfile('bio')}\n                />\n                {profileErrors.bio && (\n                  <p className=\"text-sm text-red-600\">{profileErrors.bio.message}</p>\n                )}\n              </div>\n\n              <Input\n                label=\"專長領域\"\n                type=\"text\"\n                placeholder=\"例如：電子產品, 工業設備, 醫療器材（用逗號分隔）\"\n                helperText=\"請用逗號分隔多個專長\"\n                error={profileErrors.specialties?.message}\n                {...registerProfile('specialties')}\n              />\n\n              {/* 服務地區 */}\n              <div className=\"space-y-2\">\n                <label className=\"text-sm font-semibold text-slate-700\">\n                  服務地區\n                </label>\n                <div className=\"flex flex-wrap gap-2 p-4 border-2 border-slate-200 rounded-xl\">\n                  {regions?.map((region) => {\n                    const isSelected = selectedRegions.includes(region.name);\n                    return (\n                      <button\n                        key={region.id}\n                        type=\"button\"\n                        onClick={() => toggleRegion(region.name)}\n                        className={`px-3 py-1.5 rounded-lg text-sm font-medium transition-colors ${\n                          isSelected\n                            ? 'bg-primary-600 text-white'\n                            : 'bg-slate-100 text-slate-700 hover:bg-slate-200'\n                        }`}\n                      >\n                        {region.name}\n                      </button>\n                    );\n                  })}\n                </div>\n              </div>\n\n              {/* 表單按鈕 */}\n              <div className=\"flex gap-3 pt-4\">\n                <Button\n                  type=\"submit\"\n                  isLoading={updateProfileMutation.isPending}\n                >\n                  <Save className=\"mr-2 h-4 w-4\" />\n                  儲存變更\n                </Button>\n                <Button\n                  type=\"button\"\n                  variant=\"outline\"\n                  onClick={() => {\n                    setEditMode(false);\n                    setAvatarPreview(null);\n                    resetProfile();\n                  }}\n                >\n                  取消\n                </Button>\n              </div>\n            </form>\n          )}\n        </CardContent>\n      </Card>\n\n      {/* 公司資訊卡片 */}\n      <Card>\n        <CardHeader>\n          <div className=\"flex items-center justify-between\">\n            <CardTitle className=\"flex items-center gap-2\">\n              <Building2 className=\"h-5 w-5\" />\n              公司資訊\n            </CardTitle>\n            {profileData?.company && (\n              <Badge\n                variant={\n                  profileData.company.approval_status === 'approved'\n                    ? 'success'\n                    : profileData.company.approval_status === 'pending'\n                    ? 'warning'\n                    : 'error'\n                }\n                size=\"sm\"\n              >\n                {profileData.company.approval_status === 'approved'\n                  ? '已審核'\n                  : profileData.company.approval_status === 'pending'\n                  ? '審核中'\n                  : '已拒絕'}\n              </Badge>\n            )}\n          </div>\n        </CardHeader>\n        <CardContent>\n          {profileData?.company && !editMode ? (\n            // 檢視模式\n            <div className=\"space-y-4\">\n              <div>\n                <h4 className=\"text-sm font-semibold text-slate-700 mb-1\">公司名稱</h4>\n                <p className=\"text-slate-900\">{profileData.company.name}</p>\n              </div>\n              {profileData.company.industry && (\n                <div>\n                  <h4 className=\"text-sm font-semibold text-slate-700 mb-1\">產業類別</h4>\n                  <Badge variant=\"secondary\" size=\"sm\">\n                    {profileData.company.industry.name}\n                  </Badge>\n                </div>\n              )}\n              {profileData.company.approval_status === 'pending' && (\n                <div className=\"bg-yellow-50 border border-yellow-200 rounded-xl p-4\">\n                  <p className=\"text-sm text-yellow-800\">\n                    您的公司資訊正在審核中，審核通過後將顯示在您的個人檔案上\n                  </p>\n                </div>\n              )}\n            </div>\n          ) : (\n            // 編輯模式或無公司資訊\n            <form onSubmit={handleCompanySubmit(onSubmitCompany)} className=\"space-y-4\">\n              <Input\n                label=\"公司名稱\"\n                type=\"text\"\n                placeholder=\"請輸入公司名稱\"\n                error={companyErrors.name?.message}\n                required\n                {...registerCompany('name')}\n              />\n\n              <div className=\"space-y-2\">\n                <label className=\"text-sm font-semibold text-slate-700\">\n                  產業類別\n                  <span className=\"text-red-500 ml-1\">*</span>\n                </label>\n                <select\n                  className=\"flex w-full h-11 rounded-xl border-2 border-slate-200 bg-white px-4 py-2 text-base placeholder:text-slate-400 focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-primary-500 hover:border-slate-300 transition-all duration-200\"\n                  {...registerCompany('industry_id', { valueAsNumber: true })}\n                >\n                  <option value=\"\">請選擇產業類別</option>\n                  {industries?.map((industry) => (\n                    <option key={industry.id} value={industry.id}>\n                      {industry.name}\n                    </option>\n                  ))}\n                </select>\n                {companyErrors.industry_id && (\n                  <p className=\"text-sm text-red-600\">{companyErrors.industry_id.message}</p>\n                )}\n              </div>\n\n              <div className=\"bg-blue-50 border border-blue-200 rounded-xl p-4\">\n                <p className=\"text-sm text-blue-800\">\n                  公司資訊需要經過管理員審核才會顯示在您的個人檔案上\n                </p>\n              </div>\n\n              <Button\n                type=\"submit\"\n                isLoading={saveCompanyMutation.isPending}\n              >\n                <Save className=\"mr-2 h-4 w-4\" />\n                儲存公司資訊\n              </Button>\n            </form>\n          )}\n        </CardContent>\n      </Card>\n    </div>\n  );\n}\n"],"names":[],"mappings":"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"}}]
}