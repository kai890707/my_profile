(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,75432,e=>{"use strict";var t=e.i(54616),s=e.i(66027),a=e.i(12598),r=e.i(15760);async function n(){return(await r.apiClient.get("/admin/pending-approvals")).data}async function i(e){return(await r.apiClient.post(`/admin/approve-user/${e}`)).data}async function l(e,t){return(await r.apiClient.post(`/admin/reject-user/${e}`,{reason:t})).data}async function c(e){return(await r.apiClient.post(`/admin/approve-company/${e}`)).data}async function o(e,t){return(await r.apiClient.post(`/admin/reject-company/${e}`,{reason:t})).data}async function u(e){return(await r.apiClient.post(`/admin/approve-certification/${e}`)).data}async function d(e,t){return(await r.apiClient.post(`/admin/reject-certification/${e}`,{reason:t})).data}async function m(e){return(await r.apiClient.post(`/admin/approve-experience/${e}`)).data}async function x(e,t){return(await r.apiClient.post(`/admin/reject-experience/${e}`,{reason:t})).data}async function p(e){return(await r.apiClient.get("/admin/users",{params:e})).data}async function h(e,t){return(await r.apiClient.put(`/admin/users/${e}/status`,{status:t})).data}async function y(e){return(await r.apiClient.delete(`/admin/users/${e}`)).data}async function f(){return(await r.apiClient.get("/admin/settings/industries")).data}async function g(e){return(await r.apiClient.post("/admin/settings/industries",e)).data}async function v(e){return(await r.apiClient.delete(`/admin/settings/industries/${e}`)).data}async function j(){return(await r.apiClient.get("/admin/settings/regions")).data}async function b(e){return(await r.apiClient.post("/admin/settings/regions",e)).data}async function N(e){return(await r.apiClient.delete(`/admin/settings/regions/${e}`)).data}async function C(){return(await r.apiClient.get("/admin/statistics")).data}var w=e.i(46696);let Q=["admin","pending-approvals"],q=["admin","users"],S=["admin","statistics"],k=["admin","industries"],K=["admin","regions"];function M(){return(0,s.useQuery)({queryKey:Q,queryFn:async()=>(await n()).data})}function E(){let e=(0,a.useQueryClient)();return(0,t.useMutation)({mutationFn:e=>i(e),onSuccess:t=>{e.invalidateQueries({queryKey:Q}),e.invalidateQueries({queryKey:q}),e.invalidateQueries({queryKey:S}),w.toast.success(t.message||"審核通過")},onError:e=>{w.toast.error(e.response?.data?.message||"操作失敗")}})}function F(){let e=(0,a.useQueryClient)();return(0,t.useMutation)({mutationFn:({userId:e,reason:t})=>l(e,t),onSuccess:t=>{e.invalidateQueries({queryKey:Q}),e.invalidateQueries({queryKey:q}),e.invalidateQueries({queryKey:S}),w.toast.success(t.message||"已拒絕")},onError:e=>{w.toast.error(e.response?.data?.message||"操作失敗")}})}function R(){let e=(0,a.useQueryClient)();return(0,t.useMutation)({mutationFn:e=>c(e),onSuccess:t=>{e.invalidateQueries({queryKey:Q}),e.invalidateQueries({queryKey:S}),w.toast.success(t.message||"審核通過")},onError:e=>{w.toast.error(e.response?.data?.message||"操作失敗")}})}function $(){let e=(0,a.useQueryClient)();return(0,t.useMutation)({mutationFn:({companyId:e,reason:t})=>o(e,t),onSuccess:t=>{e.invalidateQueries({queryKey:Q}),e.invalidateQueries({queryKey:S}),w.toast.success(t.message||"已拒絕")},onError:e=>{w.toast.error(e.response?.data?.message||"操作失敗")}})}function U(){let e=(0,a.useQueryClient)();return(0,t.useMutation)({mutationFn:e=>u(e),onSuccess:t=>{e.invalidateQueries({queryKey:Q}),e.invalidateQueries({queryKey:S}),w.toast.success(t.message||"審核通過")},onError:e=>{w.toast.error(e.response?.data?.message||"操作失敗")}})}function z(){let e=(0,a.useQueryClient)();return(0,t.useMutation)({mutationFn:({certId:e,reason:t})=>d(e,t),onSuccess:t=>{e.invalidateQueries({queryKey:Q}),e.invalidateQueries({queryKey:S}),w.toast.success(t.message||"已拒絕")},onError:e=>{w.toast.error(e.response?.data?.message||"操作失敗")}})}function A(){let e=(0,a.useQueryClient)();return(0,t.useMutation)({mutationFn:e=>m(e),onSuccess:t=>{e.invalidateQueries({queryKey:Q}),e.invalidateQueries({queryKey:S}),w.toast.success(t.message||"審核通過")},onError:e=>{w.toast.error(e.response?.data?.message||"操作失敗")}})}function D(){let e=(0,a.useQueryClient)();return(0,t.useMutation)({mutationFn:({expId:e,reason:t})=>x(e,t),onSuccess:t=>{e.invalidateQueries({queryKey:Q}),e.invalidateQueries({queryKey:S}),w.toast.success(t.message||"已拒絕")},onError:e=>{w.toast.error(e.response?.data?.message||"操作失敗")}})}function P(e){return(0,s.useQuery)({queryKey:[...q,e],queryFn:async()=>(await p(e)).data})}function T(){let e=(0,a.useQueryClient)();return(0,t.useMutation)({mutationFn:({userId:e,status:t})=>h(e,t),onSuccess:t=>{e.invalidateQueries({queryKey:q}),e.invalidateQueries({queryKey:S}),w.toast.success(t.message||"狀態已更新")},onError:e=>{w.toast.error(e.response?.data?.message||"操作失敗")}})}function B(){let e=(0,a.useQueryClient)();return(0,t.useMutation)({mutationFn:e=>y(e),onSuccess:t=>{e.invalidateQueries({queryKey:q}),e.invalidateQueries({queryKey:S}),w.toast.success(t.message||"使用者已刪除")},onError:e=>{w.toast.error(e.response?.data?.message||"操作失敗")}})}function I(){return(0,s.useQuery)({queryKey:S,queryFn:async()=>(await C()).data})}function V(){return(0,s.useQuery)({queryKey:k,queryFn:async()=>(await f()).data})}function O(){let e=(0,a.useQueryClient)();return(0,t.useMutation)({mutationFn:e=>g(e),onSuccess:t=>{e.invalidateQueries({queryKey:k}),w.toast.success(t.message||"產業已新增")},onError:e=>{w.toast.error(e.response?.data?.message||"操作失敗")}})}function L(){let e=(0,a.useQueryClient)();return(0,t.useMutation)({mutationFn:e=>v(e),onSuccess:t=>{e.invalidateQueries({queryKey:k}),w.toast.success(t.message||"產業已刪除")},onError:e=>{w.toast.error(e.response?.data?.message||"操作失敗")}})}function W(){return(0,s.useQuery)({queryKey:K,queryFn:async()=>(await j()).data})}function _(){let e=(0,a.useQueryClient)();return(0,t.useMutation)({mutationFn:e=>b(e),onSuccess:t=>{e.invalidateQueries({queryKey:K}),w.toast.success(t.message||"地區已新增")},onError:e=>{w.toast.error(e.response?.data?.message||"操作失敗")}})}function H(){let e=(0,a.useQueryClient)();return(0,t.useMutation)({mutationFn:e=>N(e),onSuccess:t=>{e.invalidateQueries({queryKey:K}),w.toast.success(t.message||"地區已刪除")},onError:e=>{w.toast.error(e.response?.data?.message||"操作失敗")}})}e.s(["useApproveCertification",()=>U,"useApproveCompany",()=>R,"useApproveExperience",()=>A,"useApproveUser",()=>E,"useCreateIndustry",()=>O,"useCreateRegion",()=>_,"useDeleteIndustry",()=>L,"useDeleteRegion",()=>H,"useDeleteUser",()=>B,"useIndustries",()=>V,"usePendingApprovals",()=>M,"useRegions",()=>W,"useRejectCertification",()=>z,"useRejectCompany",()=>$,"useRejectExperience",()=>D,"useRejectUser",()=>F,"useStatistics",()=>I,"useUpdateUserStatus",()=>T,"useUsers",()=>P],75432)},87316,e=>{"use strict";let t=(0,e.i(75254).default)("calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);e.s(["Calendar",()=>t],87316)},94179,e=>{"use strict";var t=e.i(43476);e.i(64107);var s=e.i(6908);function a({children:e,variant:a="default",size:r="md",className:n,dot:i=!1}){return(0,t.jsxs)("span",{className:(0,s.cn)("inline-flex items-center font-semibold rounded-full border","transition-all duration-200",{default:"bg-slate-100 text-slate-700 border-slate-200",primary:"bg-primary-100 text-primary-700 border-primary-200",secondary:"bg-secondary-100 text-secondary-700 border-secondary-200",success:"bg-success-100 text-success-700 border-success-200",warning:"bg-warning-100 text-warning-700 border-warning-200",error:"bg-error-100 text-error-700 border-error-200",info:"bg-info-100 text-info-700 border-info-200"}[a],{sm:"text-xs px-2 py-0.5",md:"text-sm px-3 py-1",lg:"text-base px-4 py-1.5"}[r],n),children:[i&&(0,t.jsx)("span",{className:(0,s.cn)("w-2 h-2 rounded-full mr-1.5",{default:"bg-slate-500",primary:"bg-primary-500",secondary:"bg-secondary-500",success:"bg-success-500",warning:"bg-warning-500",error:"bg-error-500",info:"bg-info-500"}[a])}),e]})}e.s(["Badge",()=>a])},64107,77545,e=>{"use strict";function t(e){if(!e)return"-";let t=new Date(e);return isNaN(t.getTime())?"-":new Intl.DateTimeFormat("zh-TW",{year:"numeric",month:"2-digit",day:"2-digit"}).format(t)}e.i(6908),e.s(["formatDate",()=>t],77545),e.s([],64107)},67881,20783,91918,e=>{"use strict";var t=e.i(43476);e.i(64107);var s=e.i(6908);let a=(0,e.i(75254).default)("loader-circle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);var r=e.i(71645);function n(e,t){if("function"==typeof e)return e(t);null!=e&&(e.current=t)}function i(...e){return t=>{let s=!1,a=e.map(e=>{let a=n(e,t);return s||"function"!=typeof a||(s=!0),a});if(s)return()=>{for(let t=0;t<a.length;t++){let s=a[t];"function"==typeof s?s():n(e[t],null)}}}}function l(...e){return r.useCallback(i(...e),e)}function c(e){var s;let a,n=(s=e,(a=r.forwardRef((e,t)=>{let{children:s,...a}=e;if(r.isValidElement(s)){var n;let e,l,c=(n=s,(l=(e=Object.getOwnPropertyDescriptor(n.props,"ref")?.get)&&"isReactWarning"in e&&e.isReactWarning)?n.ref:(l=(e=Object.getOwnPropertyDescriptor(n,"ref")?.get)&&"isReactWarning"in e&&e.isReactWarning)?n.props.ref:n.props.ref||n.ref),o=function(e,t){let s={...t};for(let a in t){let r=e[a],n=t[a];/^on[A-Z]/.test(a)?r&&n?s[a]=(...e)=>{let t=n(...e);return r(...e),t}:r&&(s[a]=r):"style"===a?s[a]={...r,...n}:"className"===a&&(s[a]=[r,n].filter(Boolean).join(" "))}return{...e,...s}}(a,s.props);return s.type!==r.Fragment&&(o.ref=t?i(t,c):c),r.cloneElement(s,o)}return r.Children.count(s)>1?r.Children.only(null):null})).displayName=`${s}.SlotClone`,a),l=r.forwardRef((e,s)=>{let{children:a,...i}=e,l=r.Children.toArray(a),c=l.find(d);if(c){let e=c.props.children,a=l.map(t=>t!==c?t:r.Children.count(e)>1?r.Children.only(null):r.isValidElement(e)?e.props.children:null);return(0,t.jsx)(n,{...i,ref:s,children:r.isValidElement(e)?r.cloneElement(e,void 0,a):null})}return(0,t.jsx)(n,{...i,ref:s,children:a})});return l.displayName=`${e}.Slot`,l}e.s(["composeRefs",()=>i,"useComposedRefs",()=>l],20783);var o=c("Slot"),u=Symbol("radix.slottable");function d(e){return r.isValidElement(e)&&"function"==typeof e.type&&"__radixId"in e.type&&e.type.__radixId===u}function m({className:e,variant:r="default",size:n="default",isLoading:i=!1,disabled:l,children:c,asChild:u=!1,...d}){let m=()=>{if(l||i)return{};switch(r){case"default":return{background:"linear-gradient(135deg, #0ea5e9 0%, #0284c7 100%)",boxShadow:"0 10px 25px -5px rgba(14, 165, 233, 0.4), 0 8px 10px -6px rgba(14, 165, 233, 0.4)"};case"secondary":return{background:"linear-gradient(135deg, #14b8a6 0%, #0d9488 100%)",boxShadow:"0 10px 25px -5px rgba(20, 184, 166, 0.4)"};default:return{}}},x=(0,s.cn)("inline-flex items-center justify-center rounded-xl font-bold transition-all duration-300 ease-out","focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-blue-500 focus-visible:ring-offset-2","disabled:opacity-50 disabled:cursor-not-allowed","hover:brightness-110 hover:-translate-y-0.5","active:translate-y-0",{default:"text-white",secondary:"text-white",outline:"border-2 border-blue-500 text-blue-600 hover:bg-blue-50",ghost:"hover:bg-blue-50 text-blue-600",link:"text-blue-600 underline-offset-4 hover:underline"}[r],{default:"h-10 px-4 py-2 text-base",sm:"h-8 px-3 py-1 text-sm rounded-lg",lg:"h-14 px-8 py-4 text-lg rounded-xl",icon:"h-10 w-10 p-2"}[n],e);return u?(0,t.jsx)(o,{className:x,style:m(),...d,children:c}):(0,t.jsxs)("button",{className:x,style:m(),disabled:l||i,...d,children:[i&&(0,t.jsx)(a,{className:"mr-2 h-5 w-5 animate-spin"}),c]})}e.s(["Slot",()=>o,"createSlot",()=>c],91918),e.s(["Button",()=>m],67881)},70065,71428,e=>{"use strict";var t=e.i(43476);e.i(64107);var s=e.i(6908);function a({children:e,className:a,hover:r=!1,shadow:n="md",padding:i="md",onClick:l}){return(0,t.jsx)("div",{className:(0,s.cn)("bg-white rounded-2xl border border-slate-100",{none:"",sm:"shadow-sm",md:"shadow-md",lg:"shadow-lg",xl:"shadow-xl"}[n],{none:"p-0",sm:"p-4",md:"p-6",lg:"p-8"}[i],r&&"hover:shadow-lg hover:-translate-y-1 cursor-pointer","transition-all duration-200",a),onClick:l,children:e})}function r({children:e,className:a}){return(0,t.jsx)("div",{className:(0,s.cn)("mb-4",a),children:e})}function n({children:e,className:a}){return(0,t.jsx)("h3",{className:(0,s.cn)("text-2xl font-bold text-slate-900",a),children:e})}function i({children:e,className:a}){return(0,t.jsx)("p",{className:(0,s.cn)("text-sm text-slate-600 mt-1",a),children:e})}function l({children:e,className:a}){return(0,t.jsx)("div",{className:(0,s.cn)(a),children:e})}function c({children:e,className:a}){return(0,t.jsx)("div",{className:(0,s.cn)("mt-6 pt-4 border-t border-slate-100",a),children:e})}function o({className:e,variant:a="rectangular",animation:r="pulse"}){return(0,t.jsx)("div",{className:(0,s.cn)("bg-slate-200",{text:"h-4 w-full rounded",circular:"rounded-full",rectangular:"rounded-lg"}[a],{pulse:"animate-pulse",wave:"animate-wave",none:""}[r],e)})}function u({size:e="md"}){return(0,t.jsx)(o,{variant:"circular",className:{sm:"h-10 w-10",md:"h-12 w-12",lg:"h-16 w-16"}[e]})}function d({lines:e=3}){return(0,t.jsx)("div",{className:"space-y-2",children:Array.from({length:e}).map((s,a)=>(0,t.jsx)(o,{variant:"text",className:a===e-1?"w-2/3":"w-full"},a))})}function m(){return(0,t.jsxs)("div",{className:"p-6 bg-white rounded-xl border border-slate-200 space-y-4",children:[(0,t.jsxs)("div",{className:"flex items-start gap-4",children:[(0,t.jsx)(u,{size:"lg"}),(0,t.jsxs)("div",{className:"flex-1 space-y-2",children:[(0,t.jsx)(o,{variant:"text",className:"w-1/3 h-5"}),(0,t.jsx)(o,{variant:"text",className:"w-1/2 h-4"})]})]}),(0,t.jsx)(d,{lines:2}),(0,t.jsxs)("div",{className:"flex gap-2",children:[(0,t.jsx)(o,{className:"h-6 w-16 rounded-full"}),(0,t.jsx)(o,{className:"h-6 w-20 rounded-full"}),(0,t.jsx)(o,{className:"h-6 w-18 rounded-full"})]})]})}function x(){return(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsxs)("div",{className:"flex items-center gap-6",children:[(0,t.jsx)(u,{size:"lg"}),(0,t.jsxs)("div",{className:"flex-1 space-y-2",children:[(0,t.jsx)(o,{variant:"text",className:"w-1/4 h-6"}),(0,t.jsx)(o,{variant:"text",className:"w-1/3 h-4"})]})]}),(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(o,{variant:"text",className:"w-20 h-4"}),(0,t.jsx)(o,{variant:"rectangular",className:"w-full h-10"})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(o,{variant:"text",className:"w-20 h-4"}),(0,t.jsx)(o,{variant:"rectangular",className:"w-full h-10"})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(o,{variant:"text",className:"w-20 h-4"}),(0,t.jsx)(o,{variant:"rectangular",className:"w-full h-24"})]})]})]})}e.s(["Card",()=>a,"CardContent",()=>l,"CardDescription",()=>i,"CardFooter",()=>c,"CardHeader",()=>r,"CardTitle",()=>n],70065),e.s(["ProfileSkeleton",()=>x,"SalespersonCardSkeleton",()=>m,"Skeleton",()=>o],71428)},95468,e=>{"use strict";let t=(0,e.i(75254).default)("circle-check",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);e.s(["CheckCircle2",()=>t],95468)},27612,e=>{"use strict";let t=(0,e.i(75254).default)("trash-2",[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]]);e.s(["Trash2",()=>t],27612)},73884,63488,e=>{"use strict";var t=e.i(75254);let s=(0,t.default)("circle-x",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);e.s(["XCircle",()=>s],73884);let a=(0,t.default)("mail",[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]]);e.s(["Mail",()=>a],63488)},55436,e=>{"use strict";let t=(0,e.i(75254).default)("search",[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]]);e.s(["Search",()=>t],55436)},98919,e=>{"use strict";let t=(0,e.i(75254).default)("shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);e.s(["Shield",()=>t],98919)},70744,e=>{"use strict";var t=e.i(43476),s=e.i(71645),a=e.i(70065),r=e.i(67881),n=e.i(94179),i=e.i(71428),l=e.i(61911),c=e.i(55436);let o=(0,e.i(75254).default)("funnel",[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]]);var u=e.i(27612),d=e.i(95468),m=e.i(73884),x=e.i(63488),p=e.i(87316),h=e.i(98919),y=e.i(75432),f=e.i(77545);function g(){let[e,g]=(0,s.useState)("all"),[v,j]=(0,s.useState)("all"),[b,N]=(0,s.useState)(""),C={..."all"!==e&&{role:e},..."all"!==v&&{status:v}},{data:w,isLoading:Q}=(0,y.useUsers)(C),q=(0,y.useUpdateUserStatus)(),S=(0,y.useDeleteUser)(),k=w?.filter(e=>{if(!b)return!0;let t=b.toLowerCase();return e.username.toLowerCase().includes(t)||e.email.toLowerCase().includes(t)});return Q?(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsx)("h1",{className:"text-2xl font-bold text-slate-900",children:"使用者管理"}),(0,t.jsx)(a.Card,{children:(0,t.jsx)(a.CardContent,{className:"p-8",children:(0,t.jsx)(i.ProfileSkeleton,{})})})]}):(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h1",{className:"text-2xl font-bold text-slate-900",children:"使用者管理"}),(0,t.jsx)("p",{className:"text-slate-600 mt-1",children:"管理平台所有使用者帳號"})]}),(0,t.jsx)(a.Card,{children:(0,t.jsx)(a.CardContent,{className:"p-6",children:(0,t.jsxs)("div",{className:"flex flex-col md:flex-row gap-4",children:[(0,t.jsxs)("div",{className:"flex-1 relative",children:[(0,t.jsx)(c.Search,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-5 w-5 text-slate-400"}),(0,t.jsx)("input",{type:"text",placeholder:"搜尋使用者名稱或 Email...",value:b,onChange:e=>N(e.target.value),className:"w-full pl-10 pr-4 py-2 border-2 border-slate-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-primary-500 transition-all"})]}),(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)(o,{className:"h-5 w-5 text-slate-400"}),(0,t.jsxs)("select",{value:e,onChange:e=>g(e.target.value),className:"px-4 py-2 border-2 border-slate-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-primary-500 transition-all",children:[(0,t.jsx)("option",{value:"all",children:"所有角色"}),(0,t.jsx)("option",{value:"admin",children:"管理員"}),(0,t.jsx)("option",{value:"salesperson",children:"業務員"}),(0,t.jsx)("option",{value:"user",children:"一般用戶"})]})]}),(0,t.jsxs)("select",{value:v,onChange:e=>j(e.target.value),className:"px-4 py-2 border-2 border-slate-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-primary-500 transition-all",children:[(0,t.jsx)("option",{value:"all",children:"所有狀態"}),(0,t.jsx)("option",{value:"active",children:"啟用中"}),(0,t.jsx)("option",{value:"inactive",children:"已停用"}),(0,t.jsx)("option",{value:"pending",children:"待審核"})]})]})})}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[(0,t.jsx)(a.Card,{children:(0,t.jsx)(a.CardContent,{className:"p-4",children:(0,t.jsxs)("div",{className:"text-center",children:[(0,t.jsx)("p",{className:"text-sm text-slate-600",children:"總使用者數"}),(0,t.jsx)("p",{className:"text-2xl font-bold text-slate-900 mt-1",children:w?.length||0})]})})}),(0,t.jsx)(a.Card,{children:(0,t.jsx)(a.CardContent,{className:"p-4",children:(0,t.jsxs)("div",{className:"text-center",children:[(0,t.jsx)("p",{className:"text-sm text-slate-600",children:"管理員"}),(0,t.jsx)("p",{className:"text-2xl font-bold text-red-600 mt-1",children:w?.filter(e=>"admin"===e.role).length||0})]})})}),(0,t.jsx)(a.Card,{children:(0,t.jsx)(a.CardContent,{className:"p-4",children:(0,t.jsxs)("div",{className:"text-center",children:[(0,t.jsx)("p",{className:"text-sm text-slate-600",children:"業務員"}),(0,t.jsx)("p",{className:"text-2xl font-bold text-primary-600 mt-1",children:w?.filter(e=>"salesperson"===e.role).length||0})]})})}),(0,t.jsx)(a.Card,{children:(0,t.jsx)(a.CardContent,{className:"p-4",children:(0,t.jsxs)("div",{className:"text-center",children:[(0,t.jsx)("p",{className:"text-sm text-slate-600",children:"啟用中"}),(0,t.jsx)("p",{className:"text-2xl font-bold text-green-600 mt-1",children:w?.filter(e=>"active"===e.status).length||0})]})})})]}),(0,t.jsx)(a.Card,{children:(0,t.jsx)(a.CardContent,{className:"p-0",children:k&&k.length>0?(0,t.jsx)("div",{className:"overflow-x-auto",children:(0,t.jsxs)("table",{className:"w-full",children:[(0,t.jsx)("thead",{children:(0,t.jsxs)("tr",{className:"border-b border-slate-200 bg-slate-50",children:[(0,t.jsx)("th",{className:"px-6 py-4 text-left text-sm font-semibold text-slate-700",children:"使用者"}),(0,t.jsx)("th",{className:"px-6 py-4 text-left text-sm font-semibold text-slate-700",children:"角色"}),(0,t.jsx)("th",{className:"px-6 py-4 text-left text-sm font-semibold text-slate-700",children:"狀態"}),(0,t.jsx)("th",{className:"px-6 py-4 text-left text-sm font-semibold text-slate-700",children:"註冊時間"}),(0,t.jsx)("th",{className:"px-6 py-4 text-right text-sm font-semibold text-slate-700",children:"操作"})]})}),(0,t.jsx)("tbody",{children:k.map(e=>{let s=(e=>{switch(e){case"admin":return{variant:"error",label:"管理員",icon:h.Shield};case"salesperson":return{variant:"primary",label:"業務員",icon:l.Users};case"user":return{variant:"secondary",label:"一般用戶",icon:l.Users}}})(e.role),a=(e=>{switch(e){case"active":return{variant:"success",label:"啟用中"};case"inactive":return{variant:"secondary",label:"已停用"};case"pending":return{variant:"warning",label:"待審核"}}})(e.status);return(0,t.jsxs)("tr",{className:"border-b border-slate-200 hover:bg-slate-50 transition-colors",children:[(0,t.jsx)("td",{className:"px-6 py-4",children:(0,t.jsxs)("div",{children:[(0,t.jsx)("div",{className:"font-semibold text-slate-900",children:e.username}),(0,t.jsxs)("div",{className:"flex items-center gap-1 text-sm text-slate-600 mt-1",children:[(0,t.jsx)(x.Mail,{className:"h-3 w-3"}),e.email]})]})}),(0,t.jsx)("td",{className:"px-6 py-4",children:(0,t.jsx)(n.Badge,{variant:s.variant,size:"sm",children:s.label})}),(0,t.jsx)("td",{className:"px-6 py-4",children:(0,t.jsx)(n.Badge,{variant:a.variant,size:"sm",children:a.label})}),(0,t.jsx)("td",{className:"px-6 py-4",children:(0,t.jsxs)("div",{className:"flex items-center gap-1 text-sm text-slate-600",children:[(0,t.jsx)(p.Calendar,{className:"h-3 w-3"}),(0,f.formatDate)(e.created_at)]})}),(0,t.jsx)("td",{className:"px-6 py-4",children:(0,t.jsxs)("div",{className:"flex items-center justify-end gap-2",children:["pending"!==e.status&&(0,t.jsx)(r.Button,{variant:"ghost",size:"sm",onClick:()=>{let t,s;return s="active"==(t="active"===e.status?"inactive":"active")?"啟用":"停用",void(confirm(`確定要${s}使用者「${e.username}」嗎？`)&&q.mutate({userId:e.id,status:t}))},disabled:q.isPending||S.isPending,title:"active"===e.status?"停用使用者":"啟用使用者",children:"active"===e.status?(0,t.jsx)(m.XCircle,{className:"h-4 w-4 text-orange-600"}):(0,t.jsx)(d.CheckCircle2,{className:"h-4 w-4 text-green-600"})}),(0,t.jsx)(r.Button,{variant:"ghost",size:"sm",onClick:()=>{confirm(`確定要刪除使用者「${e.username}」嗎？

此操作無法復原，請謹慎操作。`)&&S.mutate(e.id)},disabled:q.isPending||S.isPending||"admin"===e.role,title:"admin"===e.role?"無法刪除管理員帳號":"刪除使用者",className:"text-red-600 hover:text-red-700 hover:bg-red-50",children:(0,t.jsx)(u.Trash2,{className:"h-4 w-4"})})]})})]},e.id)})})]})}):(0,t.jsxs)("div",{className:"text-center py-16",children:[(0,t.jsx)(l.Users,{className:"h-16 w-16 text-slate-300 mx-auto mb-4"}),(0,t.jsx)("h3",{className:"text-lg font-semibold text-slate-900 mb-2",children:b||"all"!==e||"all"!==v?"找不到符合條件的使用者":"尚未有使用者"}),(0,t.jsx)("p",{className:"text-slate-600",children:b||"all"!==e||"all"!==v?"請嘗試調整篩選條件":"等待使用者註冊"})]})})}),(0,t.jsxs)("div",{className:"bg-blue-50 border border-blue-200 rounded-xl p-4",children:[(0,t.jsx)("h4",{className:"font-semibold text-blue-900 mb-2",children:"操作說明"}),(0,t.jsxs)("ul",{className:"text-sm text-blue-800 space-y-1",children:[(0,t.jsx)("li",{children:"• 點擊「啟用/停用」圖標可切換使用者狀態"}),(0,t.jsx)("li",{children:"• 「待審核」狀態的使用者需要先在審核頁面處理"}),(0,t.jsx)("li",{children:"• 管理員帳號無法刪除，以確保系統安全"}),(0,t.jsx)("li",{children:"• 刪除操作無法復原，請謹慎操作"})]})]})]})}e.s(["default",()=>g],70744)}]);