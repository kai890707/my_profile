(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,7486,e=>{"use strict";let s=(0,e.i(75254).default)("building-2",[["path",{d:"M10 12h4",key:"a56b0p"}],["path",{d:"M10 8h4",key:"1sr2af"}],["path",{d:"M14 21v-3a2 2 0 0 0-4 0v3",key:"1rgiei"}],["path",{d:"M6 10H4a2 2 0 0 0-2 2v7a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-2",key:"secmi2"}],["path",{d:"M6 21V5a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v16",key:"16ra0t"}]]);e.s(["Building2",()=>s],7486)},13609,e=>{"use strict";var s=e.i(66027),a=e.i(54616),t=e.i(12598),r=e.i(46696),n=e.i(15760);async function l(e){return(await n.apiClient.post("/salesperson/upgrade",e)).data}async function i(){return(await n.apiClient.get("/salesperson/profile")).data}async function c(e){return(await n.apiClient.put("/salesperson/profile",e)).data}async function d(e){return(await n.apiClient.post("/salesperson/company",e)).data}async function o(){return(await n.apiClient.get("/salesperson/experiences")).data}async function u(e){return(await n.apiClient.post("/salesperson/experiences",e)).data}async function x(e,s){return(await n.apiClient.put(`/salesperson/experiences/${e}`,s)).data}async function m(e){return(await n.apiClient.delete(`/salesperson/experiences/${e}`)).data}async function p(){return(await n.apiClient.get("/salesperson/certifications")).data}async function h(e){return(await n.apiClient.post("/salesperson/certifications",e)).data}async function y(e){return(await n.apiClient.delete(`/salesperson/certifications/${e}`)).data}async function j(){return(await n.apiClient.get("/salesperson/approval-status")).data}let f=["salesperson","profile"],g=["salesperson","status"],v=["salesperson","experiences"],N=["salesperson","certifications"],b=["salesperson","approval-status"];function w(){let e=(0,t.useQueryClient)();return(0,a.useMutation)({mutationFn:l,onSuccess:s=>{e.invalidateQueries({queryKey:["auth","me"]}),e.invalidateQueries({queryKey:f}),e.invalidateQueries({queryKey:g}),r.toast.success(s.message||"升級申請已送出，請等待審核")},onError:e=>{let s=e.response?.data?.message||e.response?.data?.error||"升級失敗，請稍後再試";r.toast.error(s)}})}function C(){return(0,s.useQuery)({queryKey:f,queryFn:async()=>(await i()).data})}function k(){let e=(0,t.useQueryClient)();return(0,a.useMutation)({mutationFn:c,onSuccess:s=>{e.invalidateQueries({queryKey:f}),r.toast.success(s.message||"個人資料已更新")},onError:e=>{let s=e.response?.data?.message||"更新失敗，請稍後再試";r.toast.error(s)}})}function Q(){let e=(0,t.useQueryClient)();return(0,a.useMutation)({mutationFn:d,onSuccess:s=>{e.invalidateQueries({queryKey:f}),r.toast.success(s.message||"公司資訊已送出，等待審核")},onError:e=>{let s=e.response?.data?.message||"儲存失敗，請稍後再試";r.toast.error(s)}})}function q(){return(0,s.useQuery)({queryKey:v,queryFn:async()=>(await o()).data})}function S(){let e=(0,t.useQueryClient)();return(0,a.useMutation)({mutationFn:u,onSuccess:s=>{e.invalidateQueries({queryKey:v}),r.toast.success(s.message||"工作經驗已新增")},onError:e=>{let s=e.response?.data?.message||"新增失敗，請稍後再試";r.toast.error(s)}})}function K(){let e=(0,t.useQueryClient)();return(0,a.useMutation)({mutationFn:({id:e,data:s})=>x(e,s),onSuccess:s=>{e.invalidateQueries({queryKey:v}),r.toast.success(s.message||"工作經驗已更新")},onError:e=>{let s=e.response?.data?.message||"更新失敗，請稍後再試";r.toast.error(s)}})}function M(){let e=(0,t.useQueryClient)();return(0,a.useMutation)({mutationFn:m,onSuccess:s=>{e.invalidateQueries({queryKey:v}),r.toast.success(s.message||"工作經驗已刪除")},onError:e=>{let s=e.response?.data?.message||"刪除失敗，請稍後再試";r.toast.error(s)}})}function F(){return(0,s.useQuery)({queryKey:N,queryFn:async()=>(await p()).data})}function T(){let e=(0,t.useQueryClient)();return(0,a.useMutation)({mutationFn:h,onSuccess:s=>{e.invalidateQueries({queryKey:N}),e.invalidateQueries({queryKey:b}),r.toast.success(s.message||"證照已上傳，等待審核")},onError:e=>{let s=e.response?.data?.message||"上傳失敗，請稍後再試";r.toast.error(s)}})}function E(){let e=(0,t.useQueryClient)();return(0,a.useMutation)({mutationFn:y,onSuccess:s=>{e.invalidateQueries({queryKey:N}),r.toast.success(s.message||"證照已刪除")},onError:e=>{let s=e.response?.data?.message||"刪除失敗，請稍後再試";r.toast.error(s)}})}function B(){return(0,s.useQuery)({queryKey:b,queryFn:async()=>(await j()).data})}e.s(["useApprovalStatus",()=>B,"useCertifications",()=>F,"useCreateCertification",()=>T,"useCreateExperience",()=>S,"useDeleteCertification",()=>E,"useDeleteExperience",()=>M,"useExperiences",()=>q,"useProfile",()=>C,"useSaveCompany",()=>Q,"useUpdateExperience",()=>K,"useUpdateProfile",()=>k,"useUpgradeToSalesperson",()=>w],13609)},95468,e=>{"use strict";let s=(0,e.i(75254).default)("circle-check",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);e.s(["CheckCircle2",()=>s],95468)},64107,77545,e=>{"use strict";function s(e){if(!e)return"-";let s=new Date(e);return isNaN(s.getTime())?"-":new Intl.DateTimeFormat("zh-TW",{year:"numeric",month:"2-digit",day:"2-digit"}).format(s)}e.i(6908),e.s(["formatDate",()=>s],77545),e.s([],64107)},70065,71428,e=>{"use strict";var s=e.i(43476);e.i(64107);var a=e.i(6908);function t({children:e,className:t,hover:r=!1,shadow:n="md",padding:l="md",onClick:i}){return(0,s.jsx)("div",{className:(0,a.cn)("bg-white rounded-2xl border border-slate-100",{none:"",sm:"shadow-sm",md:"shadow-md",lg:"shadow-lg",xl:"shadow-xl"}[n],{none:"p-0",sm:"p-4",md:"p-6",lg:"p-8"}[l],r&&"hover:shadow-lg hover:-translate-y-1 cursor-pointer","transition-all duration-200",t),onClick:i,children:e})}function r({children:e,className:t}){return(0,s.jsx)("div",{className:(0,a.cn)("mb-4",t),children:e})}function n({children:e,className:t}){return(0,s.jsx)("h3",{className:(0,a.cn)("text-2xl font-bold text-slate-900",t),children:e})}function l({children:e,className:t}){return(0,s.jsx)("p",{className:(0,a.cn)("text-sm text-slate-600 mt-1",t),children:e})}function i({children:e,className:t}){return(0,s.jsx)("div",{className:(0,a.cn)(t),children:e})}function c({children:e,className:t}){return(0,s.jsx)("div",{className:(0,a.cn)("mt-6 pt-4 border-t border-slate-100",t),children:e})}function d({className:e,variant:t="rectangular",animation:r="pulse"}){return(0,s.jsx)("div",{className:(0,a.cn)("bg-slate-200",{text:"h-4 w-full rounded",circular:"rounded-full",rectangular:"rounded-lg"}[t],{pulse:"animate-pulse",wave:"animate-wave",none:""}[r],e)})}function o({size:e="md"}){return(0,s.jsx)(d,{variant:"circular",className:{sm:"h-10 w-10",md:"h-12 w-12",lg:"h-16 w-16"}[e]})}function u({lines:e=3}){return(0,s.jsx)("div",{className:"space-y-2",children:Array.from({length:e}).map((a,t)=>(0,s.jsx)(d,{variant:"text",className:t===e-1?"w-2/3":"w-full"},t))})}function x(){return(0,s.jsxs)("div",{className:"p-6 bg-white rounded-xl border border-slate-200 space-y-4",children:[(0,s.jsxs)("div",{className:"flex items-start gap-4",children:[(0,s.jsx)(o,{size:"lg"}),(0,s.jsxs)("div",{className:"flex-1 space-y-2",children:[(0,s.jsx)(d,{variant:"text",className:"w-1/3 h-5"}),(0,s.jsx)(d,{variant:"text",className:"w-1/2 h-4"})]})]}),(0,s.jsx)(u,{lines:2}),(0,s.jsxs)("div",{className:"flex gap-2",children:[(0,s.jsx)(d,{className:"h-6 w-16 rounded-full"}),(0,s.jsx)(d,{className:"h-6 w-20 rounded-full"}),(0,s.jsx)(d,{className:"h-6 w-18 rounded-full"})]})]})}function m(){return(0,s.jsxs)("div",{className:"space-y-6",children:[(0,s.jsxs)("div",{className:"flex items-center gap-6",children:[(0,s.jsx)(o,{size:"lg"}),(0,s.jsxs)("div",{className:"flex-1 space-y-2",children:[(0,s.jsx)(d,{variant:"text",className:"w-1/4 h-6"}),(0,s.jsx)(d,{variant:"text",className:"w-1/3 h-4"})]})]}),(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)(d,{variant:"text",className:"w-20 h-4"}),(0,s.jsx)(d,{variant:"rectangular",className:"w-full h-10"})]}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)(d,{variant:"text",className:"w-20 h-4"}),(0,s.jsx)(d,{variant:"rectangular",className:"w-full h-10"})]}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)(d,{variant:"text",className:"w-20 h-4"}),(0,s.jsx)(d,{variant:"rectangular",className:"w-full h-24"})]})]})]})}e.s(["Card",()=>t,"CardContent",()=>i,"CardDescription",()=>l,"CardFooter",()=>c,"CardHeader",()=>r,"CardTitle",()=>n],70065),e.s(["ProfileSkeleton",()=>m,"SalespersonCardSkeleton",()=>x,"Skeleton",()=>d],71428)},94179,e=>{"use strict";var s=e.i(43476);e.i(64107);var a=e.i(6908);function t({children:e,variant:t="default",size:r="md",className:n,dot:l=!1}){return(0,s.jsxs)("span",{className:(0,a.cn)("inline-flex items-center font-semibold rounded-full border","transition-all duration-200",{default:"bg-slate-100 text-slate-700 border-slate-200",primary:"bg-primary-100 text-primary-700 border-primary-200",secondary:"bg-secondary-100 text-secondary-700 border-secondary-200",success:"bg-success-100 text-success-700 border-success-200",warning:"bg-warning-100 text-warning-700 border-warning-200",error:"bg-error-100 text-error-700 border-error-200",info:"bg-info-100 text-info-700 border-info-200"}[t],{sm:"text-xs px-2 py-0.5",md:"text-sm px-3 py-1",lg:"text-base px-4 py-1.5"}[r],n),children:[l&&(0,s.jsx)("span",{className:(0,a.cn)("w-2 h-2 rounded-full mr-1.5",{default:"bg-slate-500",primary:"bg-primary-500",secondary:"bg-secondary-500",success:"bg-success-500",warning:"bg-warning-500",error:"bg-error-500",info:"bg-info-500"}[t])}),e]})}e.s(["Badge",()=>t])},3116,e=>{"use strict";let s=(0,e.i(75254).default)("clock",[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);e.s(["Clock",()=>s],3116)},63209,e=>{"use strict";let s=(0,e.i(75254).default)("circle-alert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);e.s(["AlertCircle",()=>s],63209)},94723,e=>{"use strict";var s=e.i(43476),a=e.i(70065),t=e.i(94179),r=e.i(71428),n=e.i(95468),l=e.i(3116),i=e.i(63209),c=e.i(84614),d=e.i(7486),o=e.i(42009),u=e.i(63727);let x=(0,e.i(75254).default)("info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);var m=e.i(13609);function p(){let e,p,{data:h,isLoading:y}=(0,m.useApprovalStatus)(),j=e=>{switch(e){case"approved":return{variant:"success",label:"已通過",icon:n.CheckCircle2,color:"text-green-600",bg:"bg-green-50"};case"pending":return{variant:"warning",label:"審核中",icon:l.Clock,color:"text-yellow-600",bg:"bg-yellow-50"};case"rejected":return{variant:"error",label:"已拒絕",icon:i.AlertCircle,color:"text-red-600",bg:"bg-red-50"};default:return{variant:"secondary",label:"未知",icon:l.Clock,color:"text-slate-600",bg:"bg-slate-50"}}};if(y)return(0,s.jsxs)("div",{className:"space-y-6",children:[(0,s.jsxs)("div",{className:"mb-6",children:[(0,s.jsx)("h1",{className:"text-2xl font-bold text-slate-900",children:"審核狀態"}),(0,s.jsx)("p",{className:"text-slate-600 mt-1",children:"查看您的資料審核進度"})]}),(0,s.jsx)(a.Card,{children:(0,s.jsx)(a.CardContent,{className:"p-8",children:(0,s.jsx)(r.ProfileSkeleton,{})})})]});if(!h)return(0,s.jsxs)("div",{className:"space-y-6",children:[(0,s.jsxs)("div",{className:"mb-6",children:[(0,s.jsx)("h1",{className:"text-2xl font-bold text-slate-900",children:"審核狀態"}),(0,s.jsx)("p",{className:"text-slate-600 mt-1",children:"查看您的資料審核進度"})]}),(0,s.jsx)(a.Card,{children:(0,s.jsxs)(a.CardContent,{className:"py-16 text-center",children:[(0,s.jsx)(i.AlertCircle,{className:"h-16 w-16 text-slate-300 mx-auto mb-4"}),(0,s.jsx)("h3",{className:"text-xl font-semibold text-slate-900 mb-2",children:"無法載入審核狀態"}),(0,s.jsx)("p",{className:"text-slate-600",children:"請稍後再試"})]})})]});let f=h.experiences||[],g=h.certifications||[],v=j(h.profile_status),N=v.icon;return(0,s.jsxs)("div",{className:"space-y-6",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("h1",{className:"text-2xl font-bold text-slate-900",children:"審核狀態"}),(0,s.jsx)("p",{className:"text-slate-600 mt-1",children:"查看您的資料審核進度"})]}),(0,s.jsx)("div",{className:"bg-blue-50 border border-blue-200 rounded-xl p-4",children:(0,s.jsxs)("div",{className:"flex items-start",children:[(0,s.jsx)(x,{className:"h-5 w-5 text-blue-600 mt-0.5 mr-3 flex-shrink-0"}),(0,s.jsx)("p",{className:"text-sm text-blue-800 leading-relaxed",children:"您上傳的資料需要經過管理員審核後才會顯示在公開個人檔案上。審核通常在 1-3 個工作日內完成。"})]})}),(0,s.jsxs)(a.Card,{children:[(0,s.jsx)(a.CardHeader,{children:(0,s.jsxs)(a.CardTitle,{className:"flex items-center gap-3",children:[(0,s.jsx)("div",{className:"p-2 bg-primary-50 rounded-lg",children:(0,s.jsx)(c.User,{className:"h-5 w-5 text-primary-600"})}),"個人資料"]})}),(0,s.jsx)(a.CardContent,{children:(0,s.jsxs)("div",{className:"flex items-center gap-3",children:[(0,s.jsx)("div",{className:`p-3 ${v.bg} rounded-xl`,children:(0,s.jsx)(N,{className:`h-6 w-6 ${v.color}`})}),(0,s.jsxs)("div",{className:"flex-1",children:[(0,s.jsx)("p",{className:"text-sm text-slate-600 mb-1",children:"審核狀態"}),(0,s.jsxs)(t.Badge,{variant:v.variant,children:[(0,s.jsx)(N,{className:"mr-1 h-3 w-3"}),v.label]})]})]})})]}),h.company_status&&(0,s.jsxs)(a.Card,{children:[(0,s.jsx)(a.CardHeader,{children:(0,s.jsxs)(a.CardTitle,{className:"flex items-center gap-3",children:[(0,s.jsx)("div",{className:"p-2 bg-primary-50 rounded-lg",children:(0,s.jsx)(d.Building2,{className:"h-5 w-5 text-primary-600"})}),"公司資料"]})}),(0,s.jsx)(a.CardContent,{children:(p=(e=j(h.company_status)).icon,(0,s.jsxs)("div",{className:"flex items-center gap-3",children:[(0,s.jsx)("div",{className:`p-3 ${e.bg} rounded-xl`,children:(0,s.jsx)(p,{className:`h-6 w-6 ${e.color}`})}),(0,s.jsxs)("div",{className:"flex-1",children:[(0,s.jsx)("p",{className:"text-sm text-slate-600 mb-1",children:"審核狀態"}),(0,s.jsxs)(t.Badge,{variant:e.variant,children:[(0,s.jsx)(p,{className:"mr-1 h-3 w-3"}),e.label]})]})]}))})]}),(0,s.jsxs)(a.Card,{children:[(0,s.jsx)(a.CardHeader,{children:(0,s.jsxs)(a.CardTitle,{className:"flex items-center gap-3",children:[(0,s.jsx)("div",{className:"p-2 bg-primary-50 rounded-lg",children:(0,s.jsx)(u.Briefcase,{className:"h-5 w-5 text-primary-600"})}),"工作經驗（",f.length,"）"]})}),(0,s.jsx)(a.CardContent,{children:f.length>0?(0,s.jsx)("div",{className:"space-y-4",children:f.map(e=>{let a=j(e.approval_status),r=a.icon;return(0,s.jsxs)("div",{className:"border-2 border-slate-200 rounded-xl p-4",children:[(0,s.jsxs)("div",{className:"flex items-start justify-between mb-3",children:[(0,s.jsxs)("div",{className:"flex-1",children:[(0,s.jsx)("h4",{className:"font-semibold text-slate-900 mb-1",children:e.position}),(0,s.jsx)("p",{className:"text-sm text-slate-600",children:e.company})]}),(0,s.jsxs)(t.Badge,{variant:a.variant,size:"sm",children:[(0,s.jsx)(r,{className:"mr-1 h-3 w-3"}),a.label]})]}),"rejected"===e.approval_status&&e.rejected_reason&&(0,s.jsx)("div",{className:"bg-red-50 border border-red-200 rounded-lg p-3 mt-3",children:(0,s.jsxs)("p",{className:"text-sm text-red-800",children:[(0,s.jsx)("strong",{children:"拒絕原因："}),e.rejected_reason]})})]},e.id)})}):(0,s.jsxs)("div",{className:"text-center py-8",children:[(0,s.jsx)(u.Briefcase,{className:"h-12 w-12 text-slate-300 mx-auto mb-3"}),(0,s.jsx)("p",{className:"text-slate-500",children:"尚未新增工作經驗"})]})})]}),(0,s.jsxs)(a.Card,{children:[(0,s.jsx)(a.CardHeader,{children:(0,s.jsxs)(a.CardTitle,{className:"flex items-center gap-3",children:[(0,s.jsx)("div",{className:"p-2 bg-primary-50 rounded-lg",children:(0,s.jsx)(o.Award,{className:"h-5 w-5 text-primary-600"})}),"專業證照（",g.length,"）"]})}),(0,s.jsx)(a.CardContent,{children:g.length>0?(0,s.jsx)("div",{className:"space-y-4",children:g.map(e=>{let a=j(e.approval_status),r=a.icon;return(0,s.jsxs)("div",{className:"border-2 border-slate-200 rounded-xl p-4",children:[(0,s.jsxs)("div",{className:"flex items-start justify-between mb-3",children:[(0,s.jsx)("div",{className:"flex-1",children:(0,s.jsx)("h4",{className:"font-semibold text-slate-900",children:e.name})}),(0,s.jsxs)(t.Badge,{variant:a.variant,size:"sm",children:[(0,s.jsx)(r,{className:"mr-1 h-3 w-3"}),a.label]})]}),"rejected"===e.approval_status&&e.rejected_reason&&(0,s.jsx)("div",{className:"bg-red-50 border border-red-200 rounded-lg p-3 mt-3",children:(0,s.jsxs)("p",{className:"text-sm text-red-800",children:[(0,s.jsx)("strong",{children:"拒絕原因："}),e.rejected_reason]})})]},e.id)})}):(0,s.jsxs)("div",{className:"text-center py-8",children:[(0,s.jsx)(o.Award,{className:"h-12 w-12 text-slate-300 mx-auto mb-3"}),(0,s.jsx)("p",{className:"text-slate-500",children:"尚未新增專業證照"})]})})]})]})}e.s(["default",()=>p],94723)}]);